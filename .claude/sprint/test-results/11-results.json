{
  "story_id": "11",
  "phase": "testing",
  "executed_by": "testing:11.t",
  "timestamp": "2025-12-11T20:15:00Z",

  "summary": {
    "total_tests": 77,
    "passed": 71,
    "failed": 6,
    "skipped": 1,
    "pass_rate": 92.2,
    "duration_ms": 250
  },

  "categories": {
    "unit": {
      "total": 74,
      "passed": 68,
      "failed": 6,
      "coverage": null
    },
    "integration": {
      "total": 3,
      "passed": 3,
      "failed": 0,
      "coverage": null
    },
    "security": {
      "total": 0,
      "passed": 0,
      "failed": 0,
      "vulnerabilities": []
    }
  },

  "failures": [
    {
      "test": "test_activity_vector_computed_from_messages",
      "category": "unit",
      "error": "TypeError: ConversationContext.__init__() got an unexpected keyword argument 'message_count'",
      "file": "tests/session_tracking/test_summarizer.py:1281",
      "severity": "medium"
    },
    {
      "test": "test_dynamic_prompt_used_for_extraction",
      "category": "unit",
      "error": "TypeError: ConversationContext.__init__() got an unexpected keyword argument 'message_count'",
      "file": "tests/session_tracking/test_summarizer.py:1333",
      "severity": "medium"
    },
    {
      "test": "test_activity_vector_included_in_summary",
      "category": "unit",
      "error": "TypeError: ConversationContext.__init__() got an unexpected keyword argument 'message_count'",
      "file": "tests/session_tracking/test_summarizer.py:1386",
      "severity": "medium"
    },
    {
      "test": "test_graceful_fallback_on_activity_detection_failure",
      "category": "unit",
      "error": "TypeError: ConversationContext.__init__() got an unexpected keyword argument 'message_count'",
      "file": "tests/session_tracking/test_summarizer.py:1430",
      "severity": "medium"
    },
    {
      "test": "test_end_to_end_debugging_session",
      "category": "integration",
      "error": "TypeError: ConversationContext.__init__() got an unexpected keyword argument 'message_count'",
      "file": "tests/session_tracking/test_summarizer.py:1534",
      "severity": "medium"
    },
    {
      "test": "test_end_to_end_exploration_session",
      "category": "integration",
      "error": "TypeError: ConversationContext.__init__() got an unexpected keyword argument 'message_count'",
      "file": "tests/session_tracking/test_summarizer.py:1598",
      "severity": "medium"
    }
  ],

  "acceptance_criteria_coverage": {
    "AC-11.1": {
      "covered": true,
      "tests": ["test_sessionsummarizer_init_with_tool_classifier"],
      "reason": null
    },
    "AC-11.2": {
      "covered": false,
      "tests": [],
      "reason": "Test failed due to API mismatch in ConversationContext"
    },
    "AC-11.3": {
      "covered": true,
      "tests": ["test_activity_vector_in_markdown_output", "test_activity_vector_in_metadata_output"],
      "reason": null
    },
    "AC-11.4": {
      "covered": false,
      "tests": [],
      "reason": "Test failed due to API mismatch in ConversationContext"
    },
    "AC-11.5": {
      "covered": false,
      "tests": [],
      "reason": "Integration tests failed due to API mismatch in ConversationContext"
    }
  },

  "recommendations": [
    {
      "type": "improve",
      "description": "Fix ConversationContext test mocks to match actual API signature",
      "action": "Update failing tests to use correct ConversationContext parameters (session_id, messages, total_tokens)"
    },
    {
      "type": "improve",
      "description": "Add missing test coverage for dynamic prompt generation",
      "action": "Create working tests for AC-11.2 and AC-11.4 after API fix"
    },
    {
      "type": "optional",
      "description": "Add end-to-end integration tests with real LLM",
      "action": "Run skipped test_integration_with_real_llm_client in CI/CD with actual API key"
    }
  ],

  "threshold_check": {
    "blocking_threshold": 90,
    "result": "above_threshold",
    "action": "create_warning_advisory"
  },

  "outcome": "warning",
  "blocking": false
}
