{"created": 1766538463.4380612, "duration": 869.0569310188293, "exitcode": 1, "root": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti", "environment": {}, "summary": {"passed": 192, "failed": 17, "skipped": 14, "total": 223, "collected": 223}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests/daemon", "type": "Package"}]}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestDaemonManagerInit", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_daemon_cli.py::TestDaemonManagerInit::test_windows_platform_detection", "type": "Function", "lineno": 25}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestDaemonManagerInit::test_macos_platform_detection", "type": "Function", "lineno": 33}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestDaemonManagerInit::test_linux_platform_detection", "type": "Function", "lineno": 41}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestDaemonManagerInit::test_unsupported_platform_raises_error", "type": "Function", "lineno": 49}]}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestConfigPathDetection", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_daemon_cli.py::TestConfigPathDetection::test_windows_config_path", "type": "Function", "lineno": 61}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestConfigPathDetection::test_unix_config_path_default", "type": "Function", "lineno": 70}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestConfigPathDetection::test_unix_config_path_xdg", "type": "Function", "lineno": 80}]}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestInstallCommand", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_daemon_cli.py::TestInstallCommand::test_install_creates_config_directory", "type": "Function", "lineno": 118}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestInstallCommand::test_install_creates_default_config", "type": "Function", "lineno": 134}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestInstallCommand::test_install_preserves_existing_config_when_enabled", "type": "Function", "lineno": 154}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestInstallCommand::test_install_prompts_when_config_disabled", "type": "Function", "lineno": 179}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestInstallCommand::test_install_skips_update_when_user_declines", "type": "Function", "lineno": 206}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestInstallCommand::test_install_success_message", "type": "Function", "lineno": 233}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestInstallCommand::test_install_failure_message", "type": "Function", "lineno": 250}]}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestUninstallCommand", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_daemon_cli.py::TestUninstallCommand::test_uninstall_delegates_to_service_manager", "type": "Function", "lineno": 270}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestUninstallCommand::test_uninstall_success_message", "type": "Function", "lineno": 285}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestUninstallCommand::test_uninstall_preserves_config", "type": "Function", "lineno": 300}]}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestStatusCommand", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_daemon_cli.py::TestStatusCommand::test_status_delegates_to_service_manager", "type": "Function", "lineno": 324}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestStatusCommand::test_status_reads_config_if_exists", "type": "Function", "lineno": 343}]}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestLogsCommand", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_daemon_cli.py::TestLogsCommand::test_logs_delegates_to_service_manager", "type": "Function", "lineno": 378}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestLogsCommand::test_logs_with_follow_flag", "type": "Function", "lineno": 393}]}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestCLIArgumentParsing", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_daemon_cli.py::TestCLIArgumentParsing::test_daemon_subcommand_detection", "type": "Function", "lineno": 412}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestCLIArgumentParsing::test_daemon_install_command", "type": "Function", "lineno": 424}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestCLIArgumentParsing::test_daemon_uninstall_command", "type": "Function", "lineno": 432}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestCLIArgumentParsing::test_daemon_status_command", "type": "Function", "lineno": 439}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestCLIArgumentParsing::test_daemon_logs_command", "type": "Function", "lineno": 446}]}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestErrorMessages", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_daemon_cli.py::TestErrorMessages::test_install_without_permissions", "type": "Function", "lineno": 458}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestErrorMessages::test_config_not_found_shows_help", "type": "Function", "lineno": 474}]}, {"nodeid": "tests/daemon/test_daemon_cli.py", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_daemon_cli.py::TestDaemonManagerInit", "type": "Class"}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestConfigPathDetection", "type": "Class"}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestInstallCommand", "type": "Class"}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestUninstallCommand", "type": "Class"}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestStatusCommand", "type": "Class"}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestLogsCommand", "type": "Class"}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestCLIArgumentParsing", "type": "Class"}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestErrorMessages", "type": "Class"}]}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestPyprojectParsing", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_generate_requirements.py::TestPyprojectParsing::test_parse_valid_pyproject", "type": "Function", "lineno": 30}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestPyprojectParsing::test_parse_missing_file", "type": "Function", "lineno": 54}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestPyprojectParsing::test_parse_non_toml_file", "type": "Function", "lineno": 61}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestPyprojectParsing::test_parse_malformed_toml", "type": "Function", "lineno": 69}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestPyprojectParsing::test_parse_missing_project_section", "type": "Function", "lineno": 77}]}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestRequirementsGeneration", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_generate_requirements.py::TestRequirementsGeneration::test_generate_core_dependencies_only", "type": "Function", "lineno": 93}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestRequirementsGeneration::test_preserve_version_specifiers", "type": "Function", "lineno": 112}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestRequirementsGeneration::test_include_all_optional_dependencies", "type": "Function", "lineno": 132}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestRequirementsGeneration::test_include_specific_optional_groups", "type": "Function", "lineno": 151}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestRequirementsGeneration::test_exclude_optional_by_default", "type": "Function", "lineno": 176}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestRequirementsGeneration::test_missing_dependencies_section", "type": "Function", "lineno": 193}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestRequirementsGeneration::test_remove_duplicate_dependencies", "type": "Function", "lineno": 204}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestRequirementsGeneration::test_strip_whitespace_from_dependencies", "type": "Function", "lineno": 224}]}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestFileWriting", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_generate_requirements.py::TestFileWriting::test_write_creates_parent_directory", "type": "Function", "lineno": 244}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestFileWriting::test_write_overwrites_existing_file", "type": "Function", "lineno": 254}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestFileWriting::test_write_formats_one_per_line", "type": "Function", "lineno": 266}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestFileWriting::test_write_file_permissions", "type": "Function", "lineno": 279}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestFileWriting::test_prevent_path_traversal", "type": "Function", "lineno": 290}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestFileWriting::test_handle_unwritable_directory", "type": "Function", "lineno": 299}]}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestIntegration", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_generate_requirements.py::TestIntegration::test_end_to_end_with_real_pyproject", "type": "Function", "lineno": 324}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestIntegration::test_generated_file_pip_compatible", "type": "Function", "lineno": 356}]}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestCLIArgumentParsing", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_generate_requirements.py::TestCLIArgumentParsing::test_default_paths", "type": "Function", "lineno": 393}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestCLIArgumentParsing::test_custom_input_output", "type": "Function", "lineno": 411}]}, {"nodeid": "tests/daemon/test_generate_requirements.py", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_generate_requirements.py::TestPyprojectParsing", "type": "Class"}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestRequirementsGeneration", "type": "Class"}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestFileWriting", "type": "Class"}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestIntegration", "type": "Class"}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestCLIArgumentParsing", "type": "Class"}]}, {"nodeid": "tests/daemon/test_http_transport.py::TestClientInitialization", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_http_transport.py::TestClientInitialization::test_explicit_url_overrides_discovery", "type": "Function", "lineno": 30}, {"nodeid": "tests/daemon/test_http_transport.py::TestClientInitialization::test_env_var_url_discovery", "type": "Function", "lineno": 38}, {"nodeid": "tests/daemon/test_http_transport.py::TestClientInitialization::test_config_file_url_discovery", "type": "Function", "lineno": 47}, {"nodeid": "tests/daemon/test_http_transport.py::TestClientInitialization::test_default_url_fallback", "type": "Function", "lineno": 69}, {"nodeid": "tests/daemon/test_http_transport.py::TestClientInitialization::test_custom_timeout", "type": "Function", "lineno": 78}, {"nodeid": "tests/daemon/test_http_transport.py::TestClientInitialization::test_httpx_not_installed_error", "type": "Function", "lineno": 86}]}, {"nodeid": "tests/daemon/test_http_transport.py::TestHealthCheck", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_http_transport.py::TestHealthCheck::test_health_check_success", "type": "Function", "lineno": 99}, {"nodeid": "tests/daemon/test_http_transport.py::TestHealthCheck::test_health_check_connection_refused", "type": "Function", "lineno": 120}, {"nodeid": "tests/daemon/test_http_transport.py::TestHealthCheck::test_health_check_timeout", "type": "Function", "lineno": 136}, {"nodeid": "tests/daemon/test_http_transport.py::TestHealthCheck::test_health_check_server_error", "type": "Function", "lineno": 152}]}, {"nodeid": "tests/daemon/test_http_transport.py::TestStatusEndpoint", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_http_transport.py::TestStatusEndpoint::test_get_status_success", "type": "Function", "lineno": 172}, {"nodeid": "tests/daemon/test_http_transport.py::TestStatusEndpoint::test_get_status_connection_error", "type": "Function", "lineno": 200}]}, {"nodeid": "tests/daemon/test_http_transport.py::TestSessionSyncEndpoint", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_http_transport.py::TestSessionSyncEndpoint::test_sync_sessions_success", "type": "Function", "lineno": 220}, {"nodeid": "tests/daemon/test_http_transport.py::TestSessionSyncEndpoint::test_sync_sessions_dry_run", "type": "Function", "lineno": 244}, {"nodeid": "tests/daemon/test_http_transport.py::TestSessionSyncEndpoint::test_sync_sessions_with_errors", "type": "Function", "lineno": 267}]}, {"nodeid": "tests/daemon/test_http_transport.py::TestErrorHandling", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_http_transport.py::TestErrorHandling::test_connection_refused_message", "type": "Function", "lineno": 298}, {"nodeid": "tests/daemon/test_http_transport.py::TestErrorHandling::test_timeout_error_message", "type": "Function", "lineno": 315}, {"nodeid": "tests/daemon/test_http_transport.py::TestErrorHandling::test_http_error_with_details", "type": "Function", "lineno": 331}]}, {"nodeid": "tests/daemon/test_http_transport.py::TestMultipleClients", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_http_transport.py::TestMultipleClients::test_concurrent_clients_share_state", "type": "Function", "lineno": 358}, {"nodeid": "tests/daemon/test_http_transport.py::TestMultipleClients::test_clients_see_shared_data", "type": "Function", "lineno": 381}]}, {"nodeid": "tests/daemon/test_http_transport.py::TestClaudeCodeIntegration", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_http_transport.py::TestClaudeCodeIntegration::test_claude_code_http_transport_config", "type": "Function", "lineno": 416}, {"nodeid": "tests/daemon/test_http_transport.py::TestClaudeCodeIntegration::test_claude_code_connection_flow", "type": "Function", "lineno": 433}]}, {"nodeid": "tests/daemon/test_http_transport.py", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_http_transport.py::TestClientInitialization", "type": "Class"}, {"nodeid": "tests/daemon/test_http_transport.py::TestHealthCheck", "type": "Class"}, {"nodeid": "tests/daemon/test_http_transport.py::TestStatusEndpoint", "type": "Class"}, {"nodeid": "tests/daemon/test_http_transport.py::TestSessionSyncEndpoint", "type": "Class"}, {"nodeid": "tests/daemon/test_http_transport.py::TestErrorHandling", "type": "Class"}, {"nodeid": "tests/daemon/test_http_transport.py::TestMultipleClients", "type": "Class"}, {"nodeid": "tests/daemon/test_http_transport.py::TestClaudeCodeIntegration", "type": "Class"}]}, {"nodeid": "tests/daemon/test_package_deployer.py::TestPackageDeployerInit", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_package_deployer.py::TestPackageDeployerInit::test_default_deploy_path", "type": "Function", "lineno": 31}, {"nodeid": "tests/daemon/test_package_deployer.py::TestPackageDeployerInit::test_custom_deploy_path", "type": "Function", "lineno": 37}, {"nodeid": "tests/daemon/test_package_deployer.py::TestPackageDeployerInit::test_version_file_path", "type": "Function", "lineno": 43}]}, {"nodeid": "tests/daemon/test_package_deployer.py::TestGetSourcePath", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_package_deployer.py::TestGetSourcePath::test_get_source_path_from_cwd", "type": "Function", "lineno": 53}, {"nodeid": "tests/daemon/test_package_deployer.py::TestGetSourcePath::test_get_source_path_from_env_var", "type": "Function", "lineno": 68}, {"nodeid": "tests/daemon/test_package_deployer.py::TestGetSourcePath::test_get_source_path_raises_when_not_found", "type": "Function", "lineno": 82}]}, {"nodeid": "tests/daemon/test_package_deployer.py::TestGetVersionFromPyproject", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_package_deployer.py::TestGetVersionFromPyproject::test_extract_version_from_pyproject", "type": "Function", "lineno": 96}, {"nodeid": "tests/daemon/test_package_deployer.py::TestGetVersionFromPyproject::test_version_extraction_with_quotes", "type": "Function", "lineno": 108}, {"nodeid": "tests/daemon/test_package_deployer.py::TestGetVersionFromPyproject::test_version_missing_raises_error", "type": "Function", "lineno": 124}]}, {"nodeid": "tests/daemon/test_package_deployer.py::TestShouldIgnore", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_package_deployer.py::TestShouldIgnore::test_ignores_pycache", "type": "Function", "lineno": 141}, {"nodeid": "tests/daemon/test_package_deployer.py::TestShouldIgnore::test_ignores_venv", "type": "Function", "lineno": 148}, {"nodeid": "tests/daemon/test_package_deployer.py::TestShouldIgnore::test_ignores_tests", "type": "Function", "lineno": 155}, {"nodeid": "tests/daemon/test_package_deployer.py::TestShouldIgnore::test_ignores_pyc_files", "type": "Function", "lineno": 162}, {"nodeid": "tests/daemon/test_package_deployer.py::TestShouldIgnore::test_does_not_ignore_regular_files", "type": "Function", "lineno": 169}]}, {"nodeid": "tests/daemon/test_package_deployer.py::TestBackupExisting", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_package_deployer.py::TestBackupExisting::test_backup_creates_timestamped_directory", "type": "Function", "lineno": 180}, {"nodeid": "tests/daemon/test_package_deployer.py::TestBackupExisting::test_backup_returns_none_when_no_deployment", "type": "Function", "lineno": 197}, {"nodeid": "tests/daemon/test_package_deployer.py::TestBackupExisting::test_backup_preserves_directory_structure", "type": "Function", "lineno": 206}]}, {"nodeid": "tests/daemon/test_package_deployer.py::TestVerifyDeployment", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_package_deployer.py::TestVerifyDeployment::test_valid_deployment_returns_true", "type": "Function", "lineno": 222}, {"nodeid": "tests/daemon/test_package_deployer.py::TestVerifyDeployment::test_missing_version_file_returns_false", "type": "Function", "lineno": 237}, {"nodeid": "tests/daemon/test_package_deployer.py::TestVerifyDeployment::test_missing_key_files_returns_false", "type": "Function", "lineno": 249}]}, {"nodeid": "tests/daemon/test_package_deployer.py::TestDeployPackage", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_package_deployer.py::TestDeployPackage::test_deploy_creates_directory_structure", "type": "Function", "lineno": 264}, {"nodeid": "tests/daemon/test_package_deployer.py::TestDeployPackage::test_deploy_excludes_venv_pycache_tests", "type": "Function", "lineno": 287}, {"nodeid": "tests/daemon/test_package_deployer.py::TestDeployPackage::test_deploy_creates_version_file", "type": "Function", "lineno": 320}, {"nodeid": "tests/daemon/test_package_deployer.py::TestDeployPackage::test_deploy_is_idempotent", "type": "Function", "lineno": 340}, {"nodeid": "tests/daemon/test_package_deployer.py::TestDeployPackage::test_deploy_backs_up_old_deployment", "type": "Function", "lineno": 364}, {"nodeid": "tests/daemon/test_package_deployer.py::TestDeployPackage::test_deploy_with_force_redeployment", "type": "Function", "lineno": 390}]}, {"nodeid": "tests/daemon/test_package_deployer.py::TestGetDeployedVersion", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_package_deployer.py::TestGetDeployedVersion::test_get_deployed_version_returns_version", "type": "Function", "lineno": 418}, {"nodeid": "tests/daemon/test_package_deployer.py::TestGetDeployedVersion::test_get_deployed_version_returns_none_when_not_deployed", "type": "Function", "lineno": 429}]}, {"nodeid": "tests/daemon/test_package_deployer.py::TestCrossPlatformPaths", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_package_deployer.py::TestCrossPlatformPaths::test_windows_backslash_paths", "type": "Function", "lineno": 441}, {"nodeid": "tests/daemon/test_package_deployer.py::TestCrossPlatformPaths::test_unix_forward_slash_paths", "type": "Function", "lineno": 448}]}, {"nodeid": "tests/daemon/test_package_deployer.py", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_package_deployer.py::TestPackageDeployerInit", "type": "Class"}, {"nodeid": "tests/daemon/test_package_deployer.py::TestGetSourcePath", "type": "Class"}, {"nodeid": "tests/daemon/test_package_deployer.py::TestGetVersionFromPyproject", "type": "Class"}, {"nodeid": "tests/daemon/test_package_deployer.py::TestShouldIgnore", "type": "Class"}, {"nodeid": "tests/daemon/test_package_deployer.py::TestBackupExisting", "type": "Class"}, {"nodeid": "tests/daemon/test_package_deployer.py::TestVerifyDeployment", "type": "Class"}, {"nodeid": "tests/daemon/test_package_deployer.py::TestDeployPackage", "type": "Class"}, {"nodeid": "tests/daemon/test_package_deployer.py::TestGetDeployedVersion", "type": "Class"}, {"nodeid": "tests/daemon/test_package_deployer.py::TestCrossPlatformPaths", "type": "Class"}]}, {"nodeid": "tests/daemon/test_path_integration.py::TestPathDetection", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_path_integration.py::TestPathDetection::test_detect_in_path_when_present", "type": "Function", "lineno": 26}, {"nodeid": "tests/daemon/test_path_integration.py::TestPathDetection::test_detect_in_path_when_absent", "type": "Function", "lineno": 42}, {"nodeid": "tests/daemon/test_path_integration.py::TestPathDetection::test_detect_in_path_with_empty_path", "type": "Function", "lineno": 62}, {"nodeid": "tests/daemon/test_path_integration.py::TestPathDetection::test_detect_in_path_idempotent", "type": "Function", "lineno": 76}, {"nodeid": "tests/daemon/test_path_integration.py::TestPathDetection::test_detect_in_path_with_symlink", "type": "Function", "lineno": 88}]}, {"nodeid": "tests/daemon/test_path_integration.py::TestShellDetection", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_path_integration.py::TestShellDetection::test_detect_shell_from_env", "type": "Function", "lineno": 116}, {"nodeid": "tests/daemon/test_path_integration.py::TestShellDetection::test_detect_shell_zsh", "type": "Function", "lineno": 132}, {"nodeid": "tests/daemon/test_path_integration.py::TestShellDetection::test_detect_shell_from_passwd", "type": "Function", "lineno": 148}, {"nodeid": "tests/daemon/test_path_integration.py::TestShellDetection::test_detect_shell_defaults_to_bash", "type": "Function", "lineno": 162}]}, {"nodeid": "tests/daemon/test_path_integration.py::TestUnixSnippetGeneration", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_path_integration.py::TestUnixSnippetGeneration::test_generate_unix_snippet_bash", "type": "Function", "lineno": 175}, {"nodeid": "tests/daemon/test_path_integration.py::TestUnixSnippetGeneration::test_generate_unix_snippet_zsh", "type": "Function", "lineno": 193}]}, {"nodeid": "tests/daemon/test_path_integration.py::TestWindowsRegistry", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_path_integration.py::TestWindowsRegistry::test_configure_windows_path_with_consent", "type": "Function", "lineno": 215}, {"nodeid": "tests/daemon/test_path_integration.py::TestWindowsRegistry::test_configure_windows_path_without_consent", "type": "Function", "lineno": 238}, {"nodeid": "tests/daemon/test_path_integration.py::TestWindowsRegistry::test_configure_windows_path_already_present", "type": "Function", "lineno": 250}, {"nodeid": "tests/daemon/test_path_integration.py::TestWindowsRegistry::test_configure_windows_path_permission_error", "type": "Function", "lineno": 265}]}, {"nodeid": "tests/daemon/test_path_integration.py::TestInstructionDisplay", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_path_integration.py::TestInstructionDisplay::test_display_instructions_when_already_configured", "type": "Function", "lineno": 283}, {"nodeid": "tests/daemon/test_path_integration.py::TestInstructionDisplay::test_display_windows_instructions_consent_declined", "type": "Function", "lineno": 303}, {"nodeid": "tests/daemon/test_path_integration.py::TestInstructionDisplay::test_display_unix_instructions", "type": "Function", "lineno": 324}]}, {"nodeid": "tests/daemon/test_path_integration.py::TestEdgeCases", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_path_integration.py::TestEdgeCases::test_path_integration_default_bin_path", "type": "Function", "lineno": 346}, {"nodeid": "tests/daemon/test_path_integration.py::TestEdgeCases::test_path_integration_custom_bin_path", "type": "Function", "lineno": 352}, {"nodeid": "tests/daemon/test_path_integration.py::TestEdgeCases::test_configure_windows_path_on_unix_fails", "type": "Function", "lineno": 358}, {"nodeid": "tests/daemon/test_path_integration.py::TestEdgeCases::test_detect_in_path_with_nonexistent_bin_path", "type": "Function", "lineno": 370}]}, {"nodeid": "tests/daemon/test_path_integration.py", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_path_integration.py::TestPathDetection", "type": "Class"}, {"nodeid": "tests/daemon/test_path_integration.py::TestShellDetection", "type": "Class"}, {"nodeid": "tests/daemon/test_path_integration.py::TestUnixSnippetGeneration", "type": "Class"}, {"nodeid": "tests/daemon/test_path_integration.py::TestWindowsRegistry", "type": "Class"}, {"nodeid": "tests/daemon/test_path_integration.py::TestInstructionDisplay", "type": "Class"}, {"nodeid": "tests/daemon/test_path_integration.py::TestEdgeCases", "type": "Class"}]}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestWindowsServiceVenvIntegration", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_service_venv_integration.py::TestWindowsServiceVenvIntegration::test_windows_service_uses_venv_python_path", "type": "Function", "lineno": 25}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestWindowsServiceVenvIntegration::test_windows_service_calls_venv_manager_get_python_executable", "type": "Function", "lineno": 46}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestWindowsServiceVenvIntegration::test_windows_service_handles_venv_missing_gracefully", "type": "Function", "lineno": 59}]}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestLaunchdServiceVenvIntegration", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_service_venv_integration.py::TestLaunchdServiceVenvIntegration::test_launchd_service_uses_venv_python_path", "type": "Function", "lineno": 77}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestLaunchdServiceVenvIntegration::test_launchd_service_calls_venv_manager_get_python_executable", "type": "Function", "lineno": 98}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestLaunchdServiceVenvIntegration::test_launchd_service_handles_venv_missing_gracefully", "type": "Function", "lineno": 111}]}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestSystemdServiceVenvIntegration", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_service_venv_integration.py::TestSystemdServiceVenvIntegration::test_systemd_service_uses_venv_python_path", "type": "Function", "lineno": 129}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestSystemdServiceVenvIntegration::test_systemd_service_calls_venv_manager_get_python_executable", "type": "Function", "lineno": 150}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestSystemdServiceVenvIntegration::test_systemd_service_handles_venv_missing_gracefully", "type": "Function", "lineno": 163}]}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestServiceManagerPlatformSpecificPaths", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_service_venv_integration.py::TestServiceManagerPlatformSpecificPaths::test_windows_service_uses_scripts_python_exe", "type": "Function", "lineno": 181}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestServiceManagerPlatformSpecificPaths::test_unix_services_use_bin_python", "type": "Function", "lineno": 196}]}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestServiceTemplateGeneration", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_service_venv_integration.py::TestServiceTemplateGeneration::test_windows_service_template_uses_venv_python", "type": "Function", "lineno": 232}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestServiceTemplateGeneration::test_launchd_plist_uses_venv_python", "type": "Function", "lineno": 258}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestServiceTemplateGeneration::test_systemd_unit_uses_venv_python", "type": "Function", "lineno": 274}]}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestDaemonManagerServiceIntegration", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_service_venv_integration.py::TestDaemonManagerServiceIntegration::test_daemon_manager_passes_venv_manager_to_service_manager", "type": "Function", "lineno": 294}]}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestSecurityServiceFiles", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_service_venv_integration.py::TestSecurityServiceFiles::test_service_files_dont_contain_hardcoded_credentials", "type": "Function", "lineno": 328}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestSecurityServiceFiles::test_venv_path_resolution_prevents_path_traversal", "type": "Function", "lineno": 357}]}, {"nodeid": "tests/daemon/test_service_venv_integration.py", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_service_venv_integration.py::TestWindowsServiceVenvIntegration", "type": "Class"}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestLaunchdServiceVenvIntegration", "type": "Class"}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestSystemdServiceVenvIntegration", "type": "Class"}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestServiceManagerPlatformSpecificPaths", "type": "Class"}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestServiceTemplateGeneration", "type": "Class"}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestDaemonManagerServiceIntegration", "type": "Class"}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestSecurityServiceFiles", "type": "Class"}]}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallVenvCreation", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallVenvCreation::test_daemon_install_creates_venv", "type": "Function", "lineno": 27}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallVenvCreation::test_daemon_install_skips_venv_if_exists", "type": "Function", "lineno": 47}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallVenvCreation::test_daemon_install_fails_with_old_python", "type": "Function", "lineno": 69}]}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallWithUv", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallWithUv::test_daemon_install_with_uv_available", "type": "Function", "lineno": 94}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallWithUv::test_daemon_install_without_uv_fallback", "type": "Function", "lineno": 113}]}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonStatusVenv", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonStatusVenv::test_daemon_status_shows_venv_exists", "type": "Function", "lineno": 136}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonStatusVenv::test_daemon_status_shows_venv_missing", "type": "Function", "lineno": 159}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonStatusVenv::test_daemon_status_shows_venv_invalid", "type": "Function", "lineno": 182}]}, {"nodeid": "tests/daemon/test_venv_integration.py::TestBootstrapVenvValidation", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_venv_integration.py::TestBootstrapVenvValidation::test_bootstrap_validates_venv_exists", "type": "Function", "lineno": 208}, {"nodeid": "tests/daemon/test_venv_integration.py::TestBootstrapVenvValidation::test_bootstrap_warns_if_venv_missing", "type": "Function", "lineno": 229}]}, {"nodeid": "tests/daemon/test_venv_integration.py::TestSecurityAndPermissions", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_venv_integration.py::TestSecurityAndPermissions::test_venv_directory_permissions", "type": "Function", "lineno": 253}, {"nodeid": "tests/daemon/test_venv_integration.py::TestSecurityAndPermissions::test_subprocess_commands_properly_escaped", "type": "Function", "lineno": 267}, {"nodeid": "tests/daemon/test_venv_integration.py::TestSecurityAndPermissions::test_path_traversal_prevention", "type": "Function", "lineno": 285}]}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallPackageIntegration", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallPackageIntegration::test_daemon_install_installs_package_after_venv_creation", "type": "Function", "lineno": 300}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallPackageIntegration::test_daemon_install_uses_uv_pip_when_available", "type": "Function", "lineno": 321}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallPackageIntegration::test_daemon_install_falls_back_to_pip_when_uv_not_available", "type": "Function", "lineno": 341}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallPackageIntegration::test_daemon_install_validates_package_installation", "type": "Function", "lineno": 360}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallPackageIntegration::test_daemon_install_fails_gracefully_if_package_install_fails", "type": "Function", "lineno": 380}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallPackageIntegration::test_installed_package_is_importable_from_venv_python", "type": "Function", "lineno": 396}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallPackageIntegration::test_non_editable_install_means_package_changes_dont_affect_venv", "type": "Function", "lineno": 413}]}, {"nodeid": "tests/daemon/test_venv_integration.py::TestPackageInstallationSecurity", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_venv_integration.py::TestPackageInstallationSecurity::test_repo_path_validated_before_installation", "type": "Function", "lineno": 437}, {"nodeid": "tests/daemon/test_venv_integration.py::TestPackageInstallationSecurity::test_subprocess_commands_properly_escaped_for_install", "type": "Function", "lineno": 449}, {"nodeid": "tests/daemon/test_venv_integration.py::TestPackageInstallationSecurity::test_package_installation_does_not_require_elevated_privileges", "type": "Function", "lineno": 467}]}, {"nodeid": "tests/daemon/test_venv_integration.py", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallVenvCreation", "type": "Class"}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallWithUv", "type": "Class"}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonStatusVenv", "type": "Class"}, {"nodeid": "tests/daemon/test_venv_integration.py::TestBootstrapVenvValidation", "type": "Class"}, {"nodeid": "tests/daemon/test_venv_integration.py::TestSecurityAndPermissions", "type": "Class"}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallPackageIntegration", "type": "Class"}, {"nodeid": "tests/daemon/test_venv_integration.py::TestPackageInstallationSecurity", "type": "Class"}]}, {"nodeid": "tests/daemon/test_venv_manager.py::TestCheckUvAvailable", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_venv_manager.py::TestCheckUvAvailable::test_check_uv_available_when_uv_in_path", "type": "Function", "lineno": 28}, {"nodeid": "tests/daemon/test_venv_manager.py::TestCheckUvAvailable::test_check_uv_available_when_uv_not_available", "type": "Function", "lineno": 34}]}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidatePythonVersion", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_venv_manager.py::TestValidatePythonVersion::test_validate_python_version_accepts_3_10", "type": "Function", "lineno": 44}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidatePythonVersion::test_validate_python_version_accepts_3_11", "type": "Function", "lineno": 51}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidatePythonVersion::test_validate_python_version_accepts_3_12", "type": "Function", "lineno": 57}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidatePythonVersion::test_validate_python_version_rejects_3_9", "type": "Function", "lineno": 63}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidatePythonVersion::test_validate_python_version_rejects_3_8", "type": "Function", "lineno": 71}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidatePythonVersion::test_validate_python_version_rejects_2_7", "type": "Function", "lineno": 79}]}, {"nodeid": "tests/daemon/test_venv_manager.py::TestDetectVenv", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_venv_manager.py::TestDetectVenv::test_detect_venv_returns_true_for_existing_valid_venv", "type": "Function", "lineno": 91}, {"nodeid": "tests/daemon/test_venv_manager.py::TestDetectVenv::test_detect_venv_returns_false_for_nonexistent_venv", "type": "Function", "lineno": 108}, {"nodeid": "tests/daemon/test_venv_manager.py::TestDetectVenv::test_detect_venv_returns_false_for_corrupted_venv", "type": "Function", "lineno": 119}]}, {"nodeid": "tests/daemon/test_venv_manager.py::TestCreateVenv", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_venv_manager.py::TestCreateVenv::test_create_venv_uses_uv_when_available", "type": "Function", "lineno": 159}, {"nodeid": "tests/daemon/test_venv_manager.py::TestCreateVenv::test_create_venv_falls_back_to_python_when_uv_unavailable", "type": "Function", "lineno": 183}, {"nodeid": "tests/daemon/test_venv_manager.py::TestCreateVenv::test_create_venv_is_idempotent_skips_if_exists", "type": "Function", "lineno": 208}]}, {"nodeid": "tests/daemon/test_venv_manager.py::TestPlatformAgnosticPaths", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_venv_manager.py::TestPlatformAgnosticPaths::test_windows_path_handling", "type": "Function", "lineno": 227}, {"nodeid": "tests/daemon/test_venv_manager.py::TestPlatformAgnosticPaths::test_unix_path_handling", "type": "Function", "lineno": 241}, {"nodeid": "tests/daemon/test_venv_manager.py::TestPlatformAgnosticPaths::test_path_operations_work_on_windows", "type": "Function", "lineno": 253}, {"nodeid": "tests/daemon/test_venv_manager.py::TestPlatformAgnosticPaths::test_path_operations_work_on_unix", "type": "Function", "lineno": 265}]}, {"nodeid": "tests/daemon/test_venv_manager.py::TestEdgeCases", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_venv_manager.py::TestEdgeCases::test_create_venv_handles_subprocess_failure", "type": "Function", "lineno": 281}, {"nodeid": "tests/daemon/test_venv_manager.py::TestEdgeCases::test_create_venv_handles_permission_error", "type": "Function", "lineno": 295}, {"nodeid": "tests/daemon/test_venv_manager.py::TestEdgeCases::test_venv_path_is_always_under_graphiti_home", "type": "Function", "lineno": 306}]}, {"nodeid": "tests/daemon/test_venv_manager.py::TestGetUvExecutable", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_venv_manager.py::TestGetUvExecutable::test_get_uv_executable_finds_uv_in_venv_windows", "type": "Function", "lineno": 320}, {"nodeid": "tests/daemon/test_venv_manager.py::TestGetUvExecutable::test_get_uv_executable_finds_uv_in_venv_unix", "type": "Function", "lineno": 331}, {"nodeid": "tests/daemon/test_venv_manager.py::TestGetUvExecutable::test_get_uv_executable_returns_none_when_not_found", "type": "Function", "lineno": 341}]}, {"nodeid": "tests/daemon/test_venv_manager.py::TestDetectRepoLocation", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_venv_manager.py::TestDetectRepoLocation::test_detect_repo_location_finds_mcp_server_from_venv_path", "type": "Function", "lineno": 353}, {"nodeid": "tests/daemon/test_venv_manager.py::TestDetectRepoLocation::test_detect_repo_location_handles_repo_moved", "type": "Function", "lineno": 381}, {"nodeid": "tests/daemon/test_venv_manager.py::TestDetectRepoLocation::test_detect_repo_location_searches_upward_from_venv", "type": "Function", "lineno": 390}]}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidateInstallation", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_venv_manager.py::TestValidateInstallation::test_validate_installation_returns_true_when_package_importable", "type": "Function", "lineno": 421}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidateInstallation::test_validate_installation_returns_false_when_package_not_installed", "type": "Function", "lineno": 434}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidateInstallation::test_validate_installation_uses_venv_python", "type": "Function", "lineno": 447}]}, {"nodeid": "tests/daemon/test_venv_manager.py::TestInstallPackage", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_venv_manager.py::TestInstallPackage::test_install_package_uses_uv_pip_when_available", "type": "Function", "lineno": 468}, {"nodeid": "tests/daemon/test_venv_manager.py::TestInstallPackage::test_install_package_falls_back_to_pip_when_uv_not_available", "type": "Function", "lineno": 491}, {"nodeid": "tests/daemon/test_venv_manager.py::TestInstallPackage::test_install_package_uses_non_editable_install", "type": "Function", "lineno": 514}, {"nodeid": "tests/daemon/test_venv_manager.py::TestInstallPackage::test_install_package_constructs_correct_path", "type": "Function", "lineno": 535}, {"nodeid": "tests/daemon/test_venv_manager.py::TestInstallPackage::test_install_package_raises_error_on_failure", "type": "Function", "lineno": 564}, {"nodeid": "tests/daemon/test_venv_manager.py::TestInstallPackage::test_install_package_validates_installation_after_install", "type": "Function", "lineno": 582}, {"nodeid": "tests/daemon/test_venv_manager.py::TestInstallPackage::test_install_package_handles_repo_not_found", "type": "Function", "lineno": 602}]}, {"nodeid": "tests/daemon/test_venv_manager.py", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_venv_manager.py::TestCheckUvAvailable", "type": "Class"}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidatePythonVersion", "type": "Class"}, {"nodeid": "tests/daemon/test_venv_manager.py::TestDetectVenv", "type": "Class"}, {"nodeid": "tests/daemon/test_venv_manager.py::TestCreateVenv", "type": "Class"}, {"nodeid": "tests/daemon/test_venv_manager.py::TestPlatformAgnosticPaths", "type": "Class"}, {"nodeid": "tests/daemon/test_venv_manager.py::TestEdgeCases", "type": "Class"}, {"nodeid": "tests/daemon/test_venv_manager.py::TestGetUvExecutable", "type": "Class"}, {"nodeid": "tests/daemon/test_venv_manager.py::TestDetectRepoLocation", "type": "Class"}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidateInstallation", "type": "Class"}, {"nodeid": "tests/daemon/test_venv_manager.py::TestInstallPackage", "type": "Class"}]}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGeneratorBasics", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGeneratorBasics::test_init_with_default_paths", "type": "Function", "lineno": 57}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGeneratorBasics::test_init_with_custom_paths", "type": "Function", "lineno": 65}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGeneratorBasics::test_get_python_path_returns_correct_path_for_platform", "type": "Function", "lineno": 72}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGeneratorBasics::test_get_python_path_raises_error_when_venv_missing", "type": "Function", "lineno": 85}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGeneratorBasics::test_create_bin_directory_creates_directory", "type": "Function", "lineno": 95}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGeneratorBasics::test_create_bin_directory_is_idempotent", "type": "Function", "lineno": 104}]}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWindowsWrapperGeneration", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_wrapper_generator.py::TestWindowsWrapperGeneration::test_generate_windows_wrapper_creates_cmd_file", "type": "Function", "lineno": 117}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWindowsWrapperGeneration::test_windows_wrapper_contains_correct_content", "type": "Function", "lineno": 132}]}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestUnixWrapperGeneration", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_wrapper_generator.py::TestUnixWrapperGeneration::test_generate_unix_wrapper_creates_shell_script", "type": "Function", "lineno": 161}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestUnixWrapperGeneration::test_unix_wrapper_has_executable_permissions", "type": "Function", "lineno": 176}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestUnixWrapperGeneration::test_unix_wrapper_contains_correct_content", "type": "Function", "lineno": 193}]}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGenerationOrchestration", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGenerationOrchestration::test_generate_wrappers_creates_all_three_commands", "type": "Function", "lineno": 222}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGenerationOrchestration::test_generate_wrappers_creates_bin_directory", "type": "Function", "lineno": 241}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGenerationOrchestration::test_generate_wrappers_fails_when_venv_missing", "type": "Function", "lineno": 250}]}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperValidation", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperValidation::test_validate_wrappers_returns_true_when_all_exist", "type": "Function", "lineno": 264}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperValidation::test_validate_wrappers_returns_false_when_bin_missing", "type": "Function", "lineno": 274}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperValidation::test_validate_wrappers_returns_false_when_wrapper_missing", "type": "Function", "lineno": 283}]}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperCleanup", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperCleanup::test_cleanup_wrappers_removes_all_wrappers", "type": "Function", "lineno": 303}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperCleanup::test_cleanup_wrappers_handles_missing_bin_gracefully", "type": "Function", "lineno": 331}]}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestPlatformAgnosticPaths", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_wrapper_generator.py::TestPlatformAgnosticPaths::test_windows_wrapper_uses_scripts_directory", "type": "Function", "lineno": 344}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestPlatformAgnosticPaths::test_unix_wrapper_uses_bin_directory", "type": "Function", "lineno": 359}]}, {"nodeid": "tests/daemon/test_wrapper_generator.py", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGeneratorBasics", "type": "Class"}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWindowsWrapperGeneration", "type": "Class"}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestUnixWrapperGeneration", "type": "Class"}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGenerationOrchestration", "type": "Class"}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperValidation", "type": "Class"}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperCleanup", "type": "Class"}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestPlatformAgnosticPaths", "type": "Class"}]}, {"nodeid": "tests/daemon", "outcome": "passed", "result": [{"nodeid": "tests/daemon/test_daemon_cli.py", "type": "Module"}, {"nodeid": "tests/daemon/test_generate_requirements.py", "type": "Module"}, {"nodeid": "tests/daemon/test_http_transport.py", "type": "Module"}, {"nodeid": "tests/daemon/test_package_deployer.py", "type": "Module"}, {"nodeid": "tests/daemon/test_path_integration.py", "type": "Module"}, {"nodeid": "tests/daemon/test_service_venv_integration.py", "type": "Module"}, {"nodeid": "tests/daemon/test_venv_integration.py", "type": "Module"}, {"nodeid": "tests/daemon/test_venv_manager.py", "type": "Module"}, {"nodeid": "tests/daemon/test_wrapper_generator.py", "type": "Module"}]}], "tests": [{"nodeid": "tests/daemon/test_daemon_cli.py::TestDaemonManagerInit::test_windows_platform_detection", "lineno": 25, "outcome": "passed", "keywords": ["test_windows_platform_detection", "TestDaemonManagerInit", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0030929999775253236, "outcome": "passed"}, "call": {"duration": 0.00487150001572445, "outcome": "passed"}, "teardown": {"duration": 0.0007955000037327409, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestDaemonManagerInit::test_macos_platform_detection", "lineno": 33, "outcome": "passed", "keywords": ["test_macos_platform_detection", "TestDaemonManagerInit", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006690999725833535, "outcome": "passed"}, "call": {"duration": 0.0028215000056661665, "outcome": "passed"}, "teardown": {"duration": 0.0037075000000186265, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestDaemonManagerInit::test_linux_platform_detection", "lineno": 41, "outcome": "passed", "keywords": ["test_linux_platform_detection", "TestDaemonManagerInit", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0026548999594524503, "outcome": "passed"}, "call": {"duration": 0.005485999980010092, "outcome": "passed"}, "teardown": {"duration": 0.0007619999814778566, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestDaemonManagerInit::test_unsupported_platform_raises_error", "lineno": 49, "outcome": "passed", "keywords": ["test_unsupported_platform_raises_error", "TestDaemonManagerInit", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.000859999970998615, "outcome": "passed"}, "call": {"duration": 0.0027288999990560114, "outcome": "passed"}, "teardown": {"duration": 0.0006567999953404069, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestConfigPathDetection::test_windows_config_path", "lineno": 61, "outcome": "passed", "keywords": ["test_windows_config_path", "TestConfigPathDetection", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.023927300004288554, "outcome": "passed"}, "call": {"duration": 0.003124099981505424, "outcome": "passed"}, "teardown": {"duration": 0.0008885000133886933, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestConfigPathDetection::test_unix_config_path_default", "lineno": 70, "outcome": "passed", "keywords": ["test_unix_config_path_default", "TestConfigPathDetection", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.017771499988157302, "outcome": "passed"}, "call": {"duration": 0.008515599998645484, "outcome": "passed"}, "teardown": {"duration": 0.0007817000150680542, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestConfigPathDetection::test_unix_config_path_xdg", "lineno": 80, "outcome": "passed", "keywords": ["test_unix_config_path_xdg", "TestConfigPathDetection", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.004036199999973178, "outcome": "passed"}, "call": {"duration": 0.006470400025136769, "outcome": "passed"}, "teardown": {"duration": 0.0006874999962747097, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestInstallCommand::test_install_creates_config_directory", "lineno": 118, "outcome": "passed", "keywords": ["test_install_creates_config_directory", "TestInstallCommand", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.006784099969081581, "outcome": "passed"}, "call": {"duration": 0.24641680001514032, "outcome": "passed", "stdout": "Installing Graphiti bootstrap service on Linux...\n\n[OK] Python version check passed\n\nCreating dedicated virtual environment...\n[OK] Venv created\n\nDeploying mcp_server package to ~/.graphiti/mcp_server/...\n[OK] Successfully deployed package to C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_creates_config_di0\\.graphiti\\mcp_server (version 1.0.1)\n\nInstalling mcp_server package...\n[OK] Package installed\n\nGenerating CLI wrapper scripts...\n[OK] Wrappers generated\n\nCreating default config: C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_creates_config_di0\\.graphiti\\graphiti.config.json\n\n\n[SUCCESS] Bootstrap service installed successfully\n\nDaemon is now running with auto-start enabled!\n\nWhat's happening:\n  - The MCP server will start automatically within 5 seconds\n  - Config file created/updated with daemon.enabled = true\n\nNext steps:\n  1. Check status: graphiti-mcp daemon status\n  2. View logs: graphiti-mcp daemon logs\n  3. Edit config (optional): C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_creates_config_di0\\.graphiti\\graphiti.config.json\n"}, "teardown": {"duration": 0.000986600003670901, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestInstallCommand::test_install_creates_default_config", "lineno": 134, "outcome": "passed", "keywords": ["test_install_creates_default_config", "TestInstallCommand", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.005338399962056428, "outcome": "passed"}, "call": {"duration": 0.2604099999880418, "outcome": "passed", "stdout": "Installing Graphiti bootstrap service on Linux...\n\n[OK] Python version check passed\n\nCreating dedicated virtual environment...\n[OK] Venv created\n\nDeploying mcp_server package to ~/.graphiti/mcp_server/...\n[OK] Successfully deployed package to C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_creates_default_c0\\.graphiti\\mcp_server (version 1.0.1)\n\nInstalling mcp_server package...\n[OK] Package installed\n\nGenerating CLI wrapper scripts...\n[OK] Wrappers generated\n\nCreating default config: C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_creates_default_c0\\.graphiti\\graphiti.config.json\n\n\n[SUCCESS] Bootstrap service installed successfully\n\nDaemon is now running with auto-start enabled!\n\nWhat's happening:\n  - The MCP server will start automatically within 5 seconds\n  - Config file created/updated with daemon.enabled = true\n\nNext steps:\n  1. Check status: graphiti-mcp daemon status\n  2. View logs: graphiti-mcp daemon logs\n  3. Edit config (optional): C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_creates_default_c0\\.graphiti\\graphiti.config.json\n"}, "teardown": {"duration": 0.001180600025691092, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestInstallCommand::test_install_preserves_existing_config_when_enabled", "lineno": 154, "outcome": "passed", "keywords": ["test_install_preserves_existing_config_when_enabled", "TestInstallCommand", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.009580899961292744, "outcome": "passed"}, "call": {"duration": 0.2877219999791123, "outcome": "passed", "stdout": "Installing Graphiti bootstrap service on Linux...\n\n[OK] Python version check passed\n\nCreating dedicated virtual environment...\n[OK] Venv created\n\nDeploying mcp_server package to ~/.graphiti/mcp_server/...\n[OK] Successfully deployed package to C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_preserves_existin0\\.graphiti\\mcp_server (version 1.0.1)\n\nInstalling mcp_server package...\n[OK] Package installed\n\nGenerating CLI wrapper scripts...\n[OK] Wrappers generated\n\n\n[SUCCESS] Bootstrap service installed successfully\n\nDaemon is now running with auto-start enabled!\n\nWhat's happening:\n  - The MCP server will start automatically within 5 seconds\n  - Config file created/updated with daemon.enabled = true\n\nNext steps:\n  1. Check status: graphiti-mcp daemon status\n  2. View logs: graphiti-mcp daemon logs\n  3. Edit config (optional): C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_preserves_existin0\\.graphiti\\graphiti.config.json\n"}, "teardown": {"duration": 0.001102500013075769, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestInstallCommand::test_install_prompts_when_config_disabled", "lineno": 179, "outcome": "passed", "keywords": ["test_install_prompts_when_config_disabled", "TestInstallCommand", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.007556900032795966, "outcome": "passed"}, "call": {"duration": 0.35210670001106337, "outcome": "passed", "stdout": "Installing Graphiti bootstrap service on Linux...\n\n[OK] Python version check passed\n\nCreating dedicated virtual environment...\n[OK] Venv created\n\nDeploying mcp_server package to ~/.graphiti/mcp_server/...\n[OK] Successfully deployed package to C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_prompts_when_conf0\\.graphiti\\mcp_server (version 1.0.1)\n\nInstalling mcp_server package...\n[OK] Package installed\n\nGenerating CLI wrapper scripts...\n[OK] Wrappers generated\n\nFound existing config: C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_prompts_when_conf0\\.graphiti\\graphiti.config.json\n  Current setting: daemon.enabled = false (MCP server will not auto-start)\n\nThe installer can update this to enabled = true for auto-start.\n\n\n  [OK] Config updated: daemon.enabled = true\n\n\n[SUCCESS] Bootstrap service installed successfully\n\nDaemon is now running with auto-start enabled!\n\nWhat's happening:\n  - The MCP server will start automatically within 5 seconds\n  - Config file created/updated with daemon.enabled = true\n\nNext steps:\n  1. Check status: graphiti-mcp daemon status\n  2. View logs: graphiti-mcp daemon logs\n  3. Edit config (optional): C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_prompts_when_conf0\\.graphiti\\graphiti.config.json\n"}, "teardown": {"duration": 0.0009849999914877117, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestInstallCommand::test_install_skips_update_when_user_declines", "lineno": 206, "outcome": "passed", "keywords": ["test_install_skips_update_when_user_declines", "TestInstallCommand", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.010385800036601722, "outcome": "passed"}, "call": {"duration": 0.2509091999963857, "outcome": "passed", "stdout": "Installing Graphiti bootstrap service on Linux...\n\n[OK] Python version check passed\n\nCreating dedicated virtual environment...\n[OK] Venv created\n\nDeploying mcp_server package to ~/.graphiti/mcp_server/...\n[OK] Successfully deployed package to C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_skips_update_when0\\.graphiti\\mcp_server (version 1.0.1)\n\nInstalling mcp_server package...\n[OK] Package installed\n\nGenerating CLI wrapper scripts...\n[OK] Wrappers generated\n\nFound existing config: C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_skips_update_when0\\.graphiti\\graphiti.config.json\n  Current setting: daemon.enabled = false (MCP server will not auto-start)\n\nThe installer can update this to enabled = true for auto-start.\n\n\n  [SKIPPED] Config not updated, daemon remains disabled\n  You can manually enable later by editing:\n    C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_skips_update_when0\\.graphiti\\graphiti.config.json\n\n\n[SUCCESS] Bootstrap service installed successfully\n\nDaemon is now running with auto-start enabled!\n\nWhat's happening:\n  - The MCP server will start automatically within 5 seconds\n  - Config file created/updated with daemon.enabled = true\n\nNext steps:\n  1. Check status: graphiti-mcp daemon status\n  2. View logs: graphiti-mcp daemon logs\n  3. Edit config (optional): C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_skips_update_when0\\.graphiti\\graphiti.config.json\n"}, "teardown": {"duration": 0.0010423000203445554, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestInstallCommand::test_install_success_message", "lineno": 233, "outcome": "passed", "keywords": ["test_install_success_message", "TestInstallCommand", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.012541399977635592, "outcome": "passed"}, "call": {"duration": 0.24748769996222109, "outcome": "passed"}, "teardown": {"duration": 0.0011931000044569373, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestInstallCommand::test_install_failure_message", "lineno": 250, "outcome": "passed", "keywords": ["test_install_failure_message", "TestInstallCommand", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.004378500045277178, "outcome": "passed"}, "call": {"duration": 0.9001588000101037, "outcome": "passed", "log": [{"name": "mcp_server.daemon.venv_manager", "msg": "Requirements file not found at C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_failure_message0\\.graphiti\\requirements.txt. Please run the daemon installation process first.", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\mcp_server\\daemon\\venv_manager.py", "filename": "venv_manager.py", "module": "venv_manager", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 442, "funcName": "install_package", "created": 1766537598.5130985, "msecs": 513.0, "relativeCreated": 11301.6719, "thread": 5236, "threadName": "MainThread", "processName": "MainProcess", "process": 17564, "taskName": null}]}, "teardown": {"duration": 0.0012400000123307109, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestUninstallCommand::test_uninstall_delegates_to_service_manager", "lineno": 270, "outcome": "passed", "keywords": ["test_uninstall_delegates_to_service_manager", "TestUninstallCommand", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.005280599987599999, "outcome": "passed"}, "call": {"duration": 0.0052553999703377485, "outcome": "passed", "stdout": "Uninstalling Graphiti bootstrap service on Linux...\n\n\nCleaning up wrapper scripts...\n[OK] Bin directory does not exist: C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_uninstall_delegates_to_se0\\.graphiti\\bin (nothing to clean)\n\n[SUCCESS] Bootstrap service uninstalled successfully\n\nConfig file preserved: C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_uninstall_delegates_to_se0\\.graphiti\\graphiti.config.json\n  (You can manually delete ~/.graphiti/ if desired)\n"}, "teardown": {"duration": 0.0006488999933935702, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestUninstallCommand::test_uninstall_success_message", "lineno": 285, "outcome": "passed", "keywords": ["test_uninstall_success_message", "TestUninstallCommand", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.007292700000107288, "outcome": "passed"}, "call": {"duration": 0.007789499999489635, "outcome": "passed"}, "teardown": {"duration": 0.0009608999826014042, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestUninstallCommand::test_uninstall_preserves_config", "lineno": 300, "outcome": "passed", "keywords": ["test_uninstall_preserves_config", "TestUninstallCommand", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0063578999834135175, "outcome": "passed"}, "call": {"duration": 0.008116699988022447, "outcome": "passed", "stdout": "Uninstalling Graphiti bootstrap service on Linux...\n\n\nCleaning up wrapper scripts...\n[OK] Bin directory does not exist: C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_uninstall_preserves_confi0\\.graphiti\\bin (nothing to clean)\n\n[SUCCESS] Bootstrap service uninstalled successfully\n\nConfig file preserved: C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_uninstall_preserves_confi0\\.graphiti\\graphiti.config.json\n  (You can manually delete ~/.graphiti/ if desired)\n"}, "teardown": {"duration": 0.0007957000052556396, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestStatusCommand::test_status_delegates_to_service_manager", "lineno": 324, "outcome": "passed", "keywords": ["test_status_delegates_to_service_manager", "TestStatusCommand", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.013216899998951703, "outcome": "passed"}, "call": {"duration": 0.00548039999557659, "outcome": "passed", "log": [{"name": "mcp_server.daemon.wrapper_generator", "msg": "Bin directory does not exist: C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_status_delegates_to_servi0\\.graphiti\\bin", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\mcp_server\\daemon\\wrapper_generator.py", "filename": "wrapper_generator.py", "module": "wrapper_generator", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 258, "funcName": "validate_wrappers", "created": 1766537598.5951893, "msecs": 595.0, "relativeCreated": 11383.7627, "thread": 5236, "threadName": "MainThread", "processName": "MainProcess", "process": 17564, "taskName": null}]}, "teardown": {"duration": 0.0009401999996043742, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestStatusCommand::test_status_reads_config_if_exists", "lineno": 343, "outcome": "failed", "keywords": ["test_status_reads_config_if_exists", "TestStatusCommand", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.004571600002236664, "outcome": "passed"}, "call": {"duration": 0.03164070000639185, "outcome": "failed", "crash": {"path": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\tests\\daemon\\test_daemon_cli.py", "lineno": 372, "message": "AssertionError: assert '127.0.0.1' in ''\n +  where '' = CaptureResult(out='', err='').out"}, "traceback": [{"path": "tests\\daemon\\test_daemon_cli.py", "lineno": 372, "message": "AssertionError"}], "log": [{"name": "mcp_server.daemon.wrapper_generator", "msg": "Bin directory does not exist: C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_status_reads_config_if_ex0\\.graphiti\\bin", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\mcp_server\\daemon\\wrapper_generator.py", "filename": "wrapper_generator.py", "module": "wrapper_generator", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 258, "funcName": "validate_wrappers", "created": 1766537598.6091325, "msecs": 609.0, "relativeCreated": 11397.7059, "thread": 5236, "threadName": "MainThread", "processName": "MainProcess", "process": 17564, "taskName": null}], "longrepr": "self = <tests.daemon.test_daemon_cli.TestStatusCommand object at 0x000001BDD75E87D0>\ntmp_path = WindowsPath('C:/Users/Admin/AppData/Local/Temp/pytest-of-Admin/pytest-372/test_status_reads_config_if_ex0')\ncapsys = <_pytest.capture.CaptureFixture object at 0x000001BDD77283B0>\n\n    def test_status_reads_config_if_exists(self, tmp_path, capsys):\n        \"\"\"Status displays config settings when config exists\"\"\"\n        with patch('platform.system', return_value='Linux'):\n            with patch('pathlib.Path.home', return_value=tmp_path):\n                with patch('mcp_server.daemon.manager.SystemdServiceManager') as mock_systemd:\n                    mock_systemd_instance = Mock()\n                    mock_systemd_instance.is_installed.return_value = True\n                    mock_systemd_instance.is_running.return_value = True\n                    mock_systemd_instance.name = \"systemd\"\n                    mock_systemd_instance.start_hint = \"systemctl start graphiti-bootstrap\"\n                    mock_systemd.return_value = mock_systemd_instance\n    \n                    manager = DaemonManager()\n    \n                    # Create config\n                    manager.config_path.parent.mkdir(parents=True, exist_ok=True)\n                    config = {\n                        \"daemon\": {\n                            \"enabled\": True,\n                            \"host\": \"127.0.0.1\",\n                            \"port\": 8321\n                        }\n                    }\n                    manager.config_path.write_text(json.dumps(config))\n    \n                    manager.status()\n    \n                    captured = capsys.readouterr()\n>                   assert '127.0.0.1' in captured.out\nE                   AssertionError: assert '127.0.0.1' in ''\nE                    +  where '' = CaptureResult(out='', err='').out\n\ntests\\daemon\\test_daemon_cli.py:372: AssertionError"}, "teardown": {"duration": 0.0021502000163309276, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestLogsCommand::test_logs_delegates_to_service_manager", "lineno": 378, "outcome": "passed", "keywords": ["test_logs_delegates_to_service_manager", "TestLogsCommand", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.008555000007618219, "outcome": "passed"}, "call": {"duration": 0.010275300010107458, "outcome": "passed", "stdout": "Fetching last 50 lines of daemon logs...\n\n"}, "teardown": {"duration": 0.0013540000072680414, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestLogsCommand::test_logs_with_follow_flag", "lineno": 393, "outcome": "passed", "keywords": ["test_logs_with_follow_flag", "TestLogsCommand", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.006526300043333322, "outcome": "passed"}, "call": {"duration": 0.005507900030352175, "outcome": "passed", "stdout": "Fetching last 50 lines of daemon logs...\n\n"}, "teardown": {"duration": 0.0034266000147908926, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestCLIArgumentParsing::test_daemon_subcommand_detection", "lineno": 412, "outcome": "passed", "keywords": ["test_daemon_subcommand_detection", "TestCLIArgumentParsing", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.00202990003162995, "outcome": "passed"}, "call": {"duration": 0.0009156999876722693, "outcome": "passed"}, "teardown": {"duration": 0.0006624999805353582, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestCLIArgumentParsing::test_daemon_install_command", "lineno": 424, "outcome": "passed", "keywords": ["test_daemon_install_command", "TestCLIArgumentParsing", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005955999949947, "outcome": "passed"}, "call": {"duration": 0.0014995999517850578, "outcome": "passed"}, "teardown": {"duration": 0.0004996999632567167, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestCLIArgumentParsing::test_daemon_uninstall_command", "lineno": 432, "outcome": "passed", "keywords": ["test_daemon_uninstall_command", "TestCLIArgumentParsing", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.006418799981474876, "outcome": "passed"}, "call": {"duration": 0.0014460000093095005, "outcome": "passed"}, "teardown": {"duration": 0.0006775999790988863, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestCLIArgumentParsing::test_daemon_status_command", "lineno": 439, "outcome": "passed", "keywords": ["test_daemon_status_command", "TestCLIArgumentParsing", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005169999785721302, "outcome": "passed"}, "call": {"duration": 0.0007968000136315823, "outcome": "passed"}, "teardown": {"duration": 0.0005490000476129353, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestCLIArgumentParsing::test_daemon_logs_command", "lineno": 446, "outcome": "passed", "keywords": ["test_daemon_logs_command", "TestCLIArgumentParsing", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.000577300030272454, "outcome": "passed"}, "call": {"duration": 0.0010547999991104007, "outcome": "passed"}, "teardown": {"duration": 0.0005251999828033149, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestErrorMessages::test_install_without_permissions", "lineno": 458, "outcome": "failed", "keywords": ["test_install_without_permissions", "TestErrorMessages", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.006480899988673627, "outcome": "passed"}, "call": {"duration": 0.4803859000094235, "outcome": "failed", "crash": {"path": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\tests\\daemon\\test_daemon_cli.py", "lineno": 472, "message": "Failed: DID NOT RAISE <class 'PermissionError'>"}, "traceback": [{"path": "tests\\daemon\\test_daemon_cli.py", "lineno": 472, "message": "Failed"}], "stdout": "Installing Graphiti bootstrap service on Linux...\n\n[OK] Python version check passed\n\nCreating dedicated virtual environment...\n[OK] Successfully created venv at C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_without_permissio0\\.graphiti\\.venv using uv\n\nDeploying mcp_server package to ~/.graphiti/mcp_server/...\n[OK] Successfully deployed package to C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_without_permissio0\\.graphiti\\mcp_server (version 1.0.1)\n\nInstalling mcp_server package...\n[FAILED] Package installation failed: Requirements file not found at C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_without_permissio0\\.graphiti\\requirements.txt. Please run the daemon installation process first.\n\nTroubleshooting:\n  - Ensure you're running from the Graphiti repository directory\n  - Check internet connection (needed for package dependencies)\n  - Verify mcp_server/pyproject.toml exists in repository\n", "log": [{"name": "mcp_server.daemon.venv_manager", "msg": "Requirements file not found at C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_install_without_permissio0\\.graphiti\\requirements.txt. Please run the daemon installation process first.", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\mcp_server\\daemon\\venv_manager.py", "filename": "venv_manager.py", "module": "venv_manager", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 442, "funcName": "install_package", "created": 1766537599.9886923, "msecs": 988.0, "relativeCreated": 12777.2655, "thread": 5236, "threadName": "MainThread", "processName": "MainProcess", "process": 17564, "taskName": null}], "longrepr": "self = <tests.daemon.test_daemon_cli.TestErrorMessages object at 0x000001BDD75E8CD0>\ntmp_path = WindowsPath('C:/Users/Admin/AppData/Local/Temp/pytest-of-Admin/pytest-372/test_install_without_permissio0')\ncapsys = <_pytest.capture.CaptureFixture object at 0x000001BDD79305A0>\n\n    def test_install_without_permissions(self, tmp_path, capsys):\n        \"\"\"Install failure shows actionable permission error\"\"\"\n        with patch('platform.system', return_value='Linux'):\n            with patch('pathlib.Path.home', return_value=tmp_path):\n                with patch('mcp_server.daemon.manager.SystemdServiceManager') as mock_systemd:\n                    mock_systemd_instance = Mock()\n                    # Simulate permission error\n                    mock_systemd_instance.install.side_effect = PermissionError(\n                        \"Permission denied\"\n                    )\n                    mock_systemd.return_value = mock_systemd_instance\n    \n                    manager = DaemonManager()\n>                   with pytest.raises(PermissionError):\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE                   Failed: DID NOT RAISE <class 'PermissionError'>\n\ntests\\daemon\\test_daemon_cli.py:472: Failed"}, "teardown": {"duration": 0.0011926000006496906, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_daemon_cli.py::TestErrorMessages::test_config_not_found_shows_help", "lineno": 474, "outcome": "failed", "keywords": ["test_config_not_found_shows_help", "TestErrorMessages", "test_daemon_cli.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.014012700004968792, "outcome": "passed"}, "call": {"duration": 0.02347030001692474, "outcome": "failed", "crash": {"path": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\tests\\daemon\\test_daemon_cli.py", "lineno": 489, "message": "AssertionError: assert ('install' in '' or 'config' in '')\n +  where '' = <built-in method lower of str object at 0x00007FFFFF46C6C0>()\n +    where <built-in method lower of str object at 0x00007FFFFF46C6C0> = ''.lower\n +      where '' = CaptureResult(out='', err='').out\n +  and   '' = <built-in method lower of str object at 0x00007FFFFF46C6C0>()\n +    where <built-in method lower of str object at 0x00007FFFFF46C6C0> = ''.lower\n +      where '' = CaptureResult(out='', err='').out"}, "traceback": [{"path": "tests\\daemon\\test_daemon_cli.py", "lineno": 489, "message": "AssertionError"}], "log": [{"name": "mcp_server.daemon.wrapper_generator", "msg": "Bin directory does not exist: C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_config_not_found_shows_he0\\.graphiti\\bin", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\mcp_server\\daemon\\wrapper_generator.py", "filename": "wrapper_generator.py", "module": "wrapper_generator", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 258, "funcName": "validate_wrappers", "created": 1766537600.0659277, "msecs": 65.0, "relativeCreated": 12854.5011, "thread": 5236, "threadName": "MainThread", "processName": "MainProcess", "process": 17564, "taskName": null}], "longrepr": "self = <tests.daemon.test_daemon_cli.TestErrorMessages object at 0x000001BDD75E8E10>\ntmp_path = WindowsPath('C:/Users/Admin/AppData/Local/Temp/pytest-of-Admin/pytest-372/test_config_not_found_shows_he0')\ncapsys = <_pytest.capture.CaptureFixture object at 0x000001BDD7931370>\n\n    def test_config_not_found_shows_help(self, tmp_path, capsys):\n        \"\"\"Status with missing config shows how to install\"\"\"\n        with patch('platform.system', return_value='Linux'):\n            with patch('pathlib.Path.home', return_value=tmp_path):\n                with patch('mcp_server.daemon.manager.SystemdServiceManager') as mock_systemd:\n                    mock_systemd_instance = Mock()\n                    mock_systemd_instance.status.return_value = True\n                    mock_systemd.return_value = mock_systemd_instance\n    \n                    manager = DaemonManager()\n                    manager.status()\n    \n                    captured = capsys.readouterr()\n                    # Should mention daemon not installed or config not found\n>                   assert 'install' in captured.out.lower() or 'config' in captured.out.lower()\nE                   AssertionError: assert ('install' in '' or 'config' in '')\nE                    +  where '' = <built-in method lower of str object at 0x00007FFFFF46C6C0>()\nE                    +    where <built-in method lower of str object at 0x00007FFFFF46C6C0> = ''.lower\nE                    +      where '' = CaptureResult(out='', err='').out\nE                    +  and   '' = <built-in method lower of str object at 0x00007FFFFF46C6C0>()\nE                    +    where <built-in method lower of str object at 0x00007FFFFF46C6C0> = ''.lower\nE                    +      where '' = CaptureResult(out='', err='').out\n\ntests\\daemon\\test_daemon_cli.py:489: AssertionError"}, "teardown": {"duration": 0.001249200024176389, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestPyprojectParsing::test_parse_valid_pyproject", "lineno": 30, "outcome": "passed", "keywords": ["test_parse_valid_pyproject", "TestPyprojectParsing", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.004190200008451939, "outcome": "passed"}, "call": {"duration": 0.004703400016296655, "outcome": "passed"}, "teardown": {"duration": 0.0010383999906480312, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestPyprojectParsing::test_parse_missing_file", "lineno": 54, "outcome": "passed", "keywords": ["test_parse_missing_file", "TestPyprojectParsing", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.004955200012773275, "outcome": "passed"}, "call": {"duration": 0.001482799998484552, "outcome": "passed"}, "teardown": {"duration": 0.0008304000366479158, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestPyprojectParsing::test_parse_non_toml_file", "lineno": 61, "outcome": "passed", "keywords": ["test_parse_non_toml_file", "TestPyprojectParsing", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.003881299984641373, "outcome": "passed"}, "call": {"duration": 0.007024999998975545, "outcome": "passed"}, "teardown": {"duration": 0.010608100041281432, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestPyprojectParsing::test_parse_malformed_toml", "lineno": 69, "outcome": "passed", "keywords": ["test_parse_malformed_toml", "TestPyprojectParsing", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.004783800046425313, "outcome": "passed"}, "call": {"duration": 0.005793799995444715, "outcome": "passed"}, "teardown": {"duration": 0.0007174999918788671, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestPyprojectParsing::test_parse_missing_project_section", "lineno": 77, "outcome": "passed", "keywords": ["test_parse_missing_project_section", "TestPyprojectParsing", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0037847000057809055, "outcome": "passed"}, "call": {"duration": 0.006840899994131178, "outcome": "passed"}, "teardown": {"duration": 0.0008205000194720924, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestRequirementsGeneration::test_generate_core_dependencies_only", "lineno": 93, "outcome": "passed", "keywords": ["test_generate_core_dependencies_only", "TestRequirementsGeneration", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006216999609023333, "outcome": "passed"}, "call": {"duration": 0.0008045000140555203, "outcome": "passed"}, "teardown": {"duration": 0.000583500019274652, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestRequirementsGeneration::test_preserve_version_specifiers", "lineno": 112, "outcome": "passed", "keywords": ["test_preserve_version_specifiers", "TestRequirementsGeneration", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006374000222422183, "outcome": "passed"}, "call": {"duration": 0.0009525000350549817, "outcome": "passed"}, "teardown": {"duration": 0.0006716999923810363, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestRequirementsGeneration::test_include_all_optional_dependencies", "lineno": 132, "outcome": "passed", "keywords": ["test_include_all_optional_dependencies", "TestRequirementsGeneration", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0008465999853797257, "outcome": "passed"}, "call": {"duration": 0.0009547999943606555, "outcome": "passed"}, "teardown": {"duration": 0.0005833999603055418, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestRequirementsGeneration::test_include_specific_optional_groups", "lineno": 151, "outcome": "passed", "keywords": ["test_include_specific_optional_groups", "TestRequirementsGeneration", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006681999657303095, "outcome": "passed"}, "call": {"duration": 0.0008660999592393637, "outcome": "passed"}, "teardown": {"duration": 0.0006330999894998968, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestRequirementsGeneration::test_exclude_optional_by_default", "lineno": 176, "outcome": "passed", "keywords": ["test_exclude_optional_by_default", "TestRequirementsGeneration", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005545999738387764, "outcome": "passed"}, "call": {"duration": 0.0010952999582514167, "outcome": "passed"}, "teardown": {"duration": 0.0007807999500073493, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestRequirementsGeneration::test_missing_dependencies_section", "lineno": 193, "outcome": "passed", "keywords": ["test_missing_dependencies_section", "TestRequirementsGeneration", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0008937999955378473, "outcome": "passed"}, "call": {"duration": 0.0015273999888449907, "outcome": "passed"}, "teardown": {"duration": 0.0006823999574407935, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestRequirementsGeneration::test_remove_duplicate_dependencies", "lineno": 204, "outcome": "passed", "keywords": ["test_remove_duplicate_dependencies", "TestRequirementsGeneration", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005683000199496746, "outcome": "passed"}, "call": {"duration": 0.0007377000292763114, "outcome": "passed"}, "teardown": {"duration": 0.000506900018081069, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestRequirementsGeneration::test_strip_whitespace_from_dependencies", "lineno": 224, "outcome": "passed", "keywords": ["test_strip_whitespace_from_dependencies", "TestRequirementsGeneration", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006457999697886407, "outcome": "passed"}, "call": {"duration": 0.0018712999881245196, "outcome": "passed"}, "teardown": {"duration": 0.0007589999586343765, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestFileWriting::test_write_creates_parent_directory", "lineno": 244, "outcome": "passed", "keywords": ["test_write_creates_parent_directory", "TestFileWriting", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0041865999810397625, "outcome": "passed"}, "call": {"duration": 0.010682899970561266, "outcome": "passed"}, "teardown": {"duration": 0.0007766999769955873, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestFileWriting::test_write_overwrites_existing_file", "lineno": 254, "outcome": "passed", "keywords": ["test_write_overwrites_existing_file", "TestFileWriting", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.007405199983622879, "outcome": "passed"}, "call": {"duration": 0.051526199968066067, "outcome": "passed"}, "teardown": {"duration": 0.0009473999962210655, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestFileWriting::test_write_formats_one_per_line", "lineno": 266, "outcome": "passed", "keywords": ["test_write_formats_one_per_line", "TestFileWriting", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.004658500023651868, "outcome": "passed"}, "call": {"duration": 0.020127099996898323, "outcome": "passed"}, "teardown": {"duration": 0.0007214999641291797, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestFileWriting::test_write_file_permissions", "lineno": 279, "outcome": "passed", "keywords": ["test_write_file_permissions", "TestFileWriting", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.008074899960774928, "outcome": "passed"}, "call": {"duration": 0.010209999978542328, "outcome": "passed"}, "teardown": {"duration": 0.0008420000085607171, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestFileWriting::test_prevent_path_traversal", "lineno": 290, "outcome": "passed", "keywords": ["test_prevent_path_traversal", "TestFileWriting", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.016587499994784594, "outcome": "passed"}, "call": {"duration": 0.0018851000349968672, "outcome": "passed"}, "teardown": {"duration": 0.002617600024677813, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestFileWriting::test_handle_unwritable_directory", "lineno": 299, "outcome": "skipped", "keywords": ["test_handle_unwritable_directory", "TestFileWriting", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.010558700014371425, "outcome": "passed"}, "call": {"duration": 0.0018854000372812152, "outcome": "skipped", "longrepr": "('C:\\\\Users\\\\Admin\\\\Documents\\\\GitHub\\\\graphiti\\\\tests\\\\daemon\\\\test_generate_requirements.py', 304, 'Skipped: Directory permissions work differently on Windows')"}, "teardown": {"duration": 0.0007790999952703714, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestIntegration::test_end_to_end_with_real_pyproject", "lineno": 324, "outcome": "passed", "keywords": ["test_end_to_end_with_real_pyproject", "TestIntegration", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0057557999971322715, "outcome": "passed"}, "call": {"duration": 0.01231520000146702, "outcome": "passed"}, "teardown": {"duration": 0.001193900010548532, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestIntegration::test_generated_file_pip_compatible", "lineno": 356, "outcome": "passed", "keywords": ["test_generated_file_pip_compatible", "TestIntegration", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0036353999748826027, "outcome": "passed"}, "call": {"duration": 21.2585165000055, "outcome": "passed"}, "teardown": {"duration": 0.0007442999631166458, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestCLIArgumentParsing::test_default_paths", "lineno": 393, "outcome": "passed", "keywords": ["test_default_paths", "__wrapped__", "patchings", "TestCLIArgumentParsing", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.003845800005365163, "outcome": "passed"}, "call": {"duration": 0.005948200006969273, "outcome": "passed", "stdout": "Successfully generated C:\\Users\\Admin\\.graphiti\\requirements.txt\n1 dependencies written\n"}, "teardown": {"duration": 0.0008174999966286123, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_generate_requirements.py::TestCLIArgumentParsing::test_custom_input_output", "lineno": 411, "outcome": "passed", "keywords": ["test_custom_input_output", "__wrapped__", "patchings", "TestCLIArgumentParsing", "test_generate_requirements.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0047759999870322645, "outcome": "passed"}, "call": {"duration": 0.004832100006751716, "outcome": "passed", "stdout": "Successfully generated C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_custom_input_output0\\custom-requirements.txt\n1 dependencies written\n"}, "teardown": {"duration": 0.003407799988053739, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestClientInitialization::test_explicit_url_overrides_discovery", "lineno": 30, "outcome": "passed", "keywords": ["test_explicit_url_overrides_discovery", "skipif", "pytestmark", "TestClientInitialization", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.004918900027405471, "outcome": "passed"}, "call": {"duration": 0.00311879999935627, "outcome": "passed"}, "teardown": {"duration": 0.0007527999696321785, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestClientInitialization::test_env_var_url_discovery", "lineno": 38, "outcome": "passed", "keywords": ["test_env_var_url_discovery", "skipif", "pytestmark", "TestClientInitialization", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0037176000187173486, "outcome": "passed"}, "call": {"duration": 0.008143299957737327, "outcome": "passed"}, "teardown": {"duration": 0.0007191000040620565, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestClientInitialization::test_config_file_url_discovery", "lineno": 47, "outcome": "passed", "keywords": ["test_config_file_url_discovery", "skipif", "pytestmark", "TestClientInitialization", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.003721899993252009, "outcome": "passed"}, "call": {"duration": 0.026405700016766787, "outcome": "passed"}, "teardown": {"duration": 0.0007275000098161399, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestClientInitialization::test_default_url_fallback", "lineno": 69, "outcome": "passed", "keywords": ["test_default_url_fallback", "skipif", "pytestmark", "TestClientInitialization", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.004231599974445999, "outcome": "passed"}, "call": {"duration": 0.0076502999872900546, "outcome": "passed"}, "teardown": {"duration": 0.0006458999705500901, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestClientInitialization::test_custom_timeout", "lineno": 78, "outcome": "passed", "keywords": ["test_custom_timeout", "skipif", "pytestmark", "TestClientInitialization", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.003842800040729344, "outcome": "passed"}, "call": {"duration": 0.004497500020079315, "outcome": "passed"}, "teardown": {"duration": 0.000603899999987334, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestClientInitialization::test_httpx_not_installed_error", "lineno": 86, "outcome": "passed", "keywords": ["test_httpx_not_installed_error", "TestClientInitialization", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006147999665699899, "outcome": "passed"}, "call": {"duration": 0.0012166000087745488, "outcome": "passed"}, "teardown": {"duration": 0.000632900046184659, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestHealthCheck::test_health_check_success", "lineno": 99, "outcome": "passed", "keywords": ["test_health_check_success", "skipif", "pytestmark", "TestHealthCheck", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0038871000288054347, "outcome": "passed"}, "call": {"duration": 0.005118499975651503, "outcome": "passed"}, "teardown": {"duration": 0.000770099984947592, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestHealthCheck::test_health_check_connection_refused", "lineno": 120, "outcome": "passed", "keywords": ["test_health_check_connection_refused", "skipif", "pytestmark", "TestHealthCheck", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.004179300041869283, "outcome": "passed"}, "call": {"duration": 0.005082499992568046, "outcome": "passed"}, "teardown": {"duration": 0.0008598000276833773, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestHealthCheck::test_health_check_timeout", "lineno": 136, "outcome": "passed", "keywords": ["test_health_check_timeout", "skipif", "pytestmark", "TestHealthCheck", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.006131600006483495, "outcome": "passed"}, "call": {"duration": 0.0042835999629460275, "outcome": "passed"}, "teardown": {"duration": 0.0005620000301860273, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestHealthCheck::test_health_check_server_error", "lineno": 152, "outcome": "passed", "keywords": ["test_health_check_server_error", "skipif", "pytestmark", "TestHealthCheck", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0035543999983929098, "outcome": "passed"}, "call": {"duration": 0.002785000018775463, "outcome": "passed"}, "teardown": {"duration": 0.0006705000414513052, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestStatusEndpoint::test_get_status_success", "lineno": 172, "outcome": "passed", "keywords": ["test_get_status_success", "skipif", "pytestmark", "TestStatusEndpoint", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.003832399961538613, "outcome": "passed"}, "call": {"duration": 0.0041300999582745135, "outcome": "passed"}, "teardown": {"duration": 0.000666000007186085, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestStatusEndpoint::test_get_status_connection_error", "lineno": 200, "outcome": "passed", "keywords": ["test_get_status_connection_error", "skipif", "pytestmark", "TestStatusEndpoint", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.004470599989872426, "outcome": "passed"}, "call": {"duration": 0.004744600038975477, "outcome": "passed", "stderr": "\u274c [ERROR] Graphiti daemon is disabled\n\n   Daemon not running. Run:\n     graphiti-mcp daemon install\n\n   Or enable in config: C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_get_status_connection_err0\\.graphiti\\graphiti.config.json\n     Set: \"daemon\": { \"enabled\": true }\n\n   \ud83d\udca1 The daemon will start automatically within 5 seconds.\n      (Requires bootstrap service to be installed)\n"}, "teardown": {"duration": 0.000667800020892173, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestSessionSyncEndpoint::test_sync_sessions_success", "lineno": 220, "outcome": "passed", "keywords": ["test_sync_sessions_success", "skipif", "pytestmark", "TestSessionSyncEndpoint", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.004044200002681464, "outcome": "passed"}, "call": {"duration": 0.00477669999236241, "outcome": "passed"}, "teardown": {"duration": 0.0008137999684549868, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestSessionSyncEndpoint::test_sync_sessions_dry_run", "lineno": 244, "outcome": "passed", "keywords": ["test_sync_sessions_dry_run", "skipif", "pytestmark", "TestSessionSyncEndpoint", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.004998299991711974, "outcome": "passed"}, "call": {"duration": 0.004105400003027171, "outcome": "passed"}, "teardown": {"duration": 0.0007752000237815082, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestSessionSyncEndpoint::test_sync_sessions_with_errors", "lineno": 267, "outcome": "passed", "keywords": ["test_sync_sessions_with_errors", "skipif", "pytestmark", "TestSessionSyncEndpoint", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.006705000007059425, "outcome": "passed"}, "call": {"duration": 0.004442700010258704, "outcome": "passed"}, "teardown": {"duration": 0.0011589000350795686, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestErrorHandling::test_connection_refused_message", "lineno": 298, "outcome": "passed", "keywords": ["test_connection_refused_message", "skipif", "pytestmark", "TestErrorHandling", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.009185499977320433, "outcome": "passed"}, "call": {"duration": 0.010519000003114343, "outcome": "passed"}, "teardown": {"duration": 0.001128499978221953, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestErrorHandling::test_timeout_error_message", "lineno": 315, "outcome": "passed", "keywords": ["test_timeout_error_message", "skipif", "pytestmark", "TestErrorHandling", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.014076100022066385, "outcome": "passed"}, "call": {"duration": 0.013729099999181926, "outcome": "passed"}, "teardown": {"duration": 0.0006613000296056271, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestErrorHandling::test_http_error_with_details", "lineno": 331, "outcome": "passed", "keywords": ["test_http_error_with_details", "skipif", "pytestmark", "TestErrorHandling", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.011058400035835803, "outcome": "passed"}, "call": {"duration": 0.004965599975548685, "outcome": "passed", "log": [{"name": "mcp_server.api.client", "msg": "HTTP error syncing sessions: 400 Bad Request", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\mcp_server\\api\\client.py", "filename": "client.py", "module": "client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 238, "funcName": "sync_sessions", "created": 1766537622.0035589, "msecs": 3.0, "relativeCreated": 34792.1323, "thread": 5236, "threadName": "MainThread", "processName": "MainProcess", "process": 17564, "taskName": null}]}, "teardown": {"duration": 0.0007652000058442354, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestMultipleClients::test_concurrent_clients_share_state", "lineno": 358, "outcome": "passed", "keywords": ["test_concurrent_clients_share_state", "skipif", "pytestmark", "TestMultipleClients", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.007372099964413792, "outcome": "passed"}, "call": {"duration": 0.0042703000362962484, "outcome": "passed"}, "teardown": {"duration": 0.0006894999532960355, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestMultipleClients::test_clients_see_shared_data", "lineno": 381, "outcome": "passed", "keywords": ["test_clients_see_shared_data", "skipif", "pytestmark", "TestMultipleClients", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0037158000050112605, "outcome": "passed"}, "call": {"duration": 0.005337100010365248, "outcome": "passed"}, "teardown": {"duration": 0.0010210999753326178, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestClaudeCodeIntegration::test_claude_code_http_transport_config", "lineno": 416, "outcome": "passed", "keywords": ["test_claude_code_http_transport_config", "skipif", "pytestmark", "TestClaudeCodeIntegration", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.007595400034915656, "outcome": "passed"}, "call": {"duration": 0.000982399971690029, "outcome": "passed"}, "teardown": {"duration": 0.0018402000423520803, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_http_transport.py::TestClaudeCodeIntegration::test_claude_code_connection_flow", "lineno": 433, "outcome": "passed", "keywords": ["test_claude_code_connection_flow", "skipif", "pytestmark", "TestClaudeCodeIntegration", "test_http_transport.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.005694400053471327, "outcome": "passed"}, "call": {"duration": 0.008332000055816025, "outcome": "passed"}, "teardown": {"duration": 0.001337299996521324, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestPackageDeployerInit::test_default_deploy_path", "lineno": 31, "outcome": "passed", "keywords": ["test_default_deploy_path", "TestPackageDeployerInit", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.006699100020341575, "outcome": "passed"}, "call": {"duration": 0.0014101999695412815, "outcome": "passed"}, "teardown": {"duration": 0.0006749999593012035, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestPackageDeployerInit::test_custom_deploy_path", "lineno": 37, "outcome": "passed", "keywords": ["test_custom_deploy_path", "TestPackageDeployerInit", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0008965000160969794, "outcome": "passed"}, "call": {"duration": 0.0010293000377714634, "outcome": "passed"}, "teardown": {"duration": 0.0026618000119924545, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestPackageDeployerInit::test_version_file_path", "lineno": 43, "outcome": "passed", "keywords": ["test_version_file_path", "TestPackageDeployerInit", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0007737000123597682, "outcome": "passed"}, "call": {"duration": 0.0024239999474957585, "outcome": "passed"}, "teardown": {"duration": 0.001928199955727905, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestGetSourcePath::test_get_source_path_from_cwd", "lineno": 53, "outcome": "passed", "keywords": ["test_get_source_path_from_cwd", "TestGetSourcePath", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0007627000450156629, "outcome": "passed"}, "call": {"duration": 0.0139863999793306, "outcome": "passed"}, "teardown": {"duration": 0.0006411000504158437, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestGetSourcePath::test_get_source_path_from_env_var", "lineno": 68, "outcome": "passed", "keywords": ["test_get_source_path_from_env_var", "TestGetSourcePath", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005674000130966306, "outcome": "passed"}, "call": {"duration": 0.013170999998692423, "outcome": "passed"}, "teardown": {"duration": 0.0006687999702990055, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestGetSourcePath::test_get_source_path_raises_when_not_found", "lineno": 82, "outcome": "failed", "keywords": ["test_get_source_path_raises_when_not_found", "TestGetSourcePath", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006458999705500901, "outcome": "passed"}, "call": {"duration": 0.008473000023514032, "outcome": "failed", "crash": {"path": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\tests\\daemon\\test_package_deployer.py", "lineno": 89, "message": "Failed: DID NOT RAISE <class 'mcp_server.daemon.package_deployer.PackageDeploymentError'>"}, "traceback": [{"path": "tests\\daemon\\test_package_deployer.py", "lineno": 89, "message": "Failed"}], "longrepr": "self = <tests.daemon.test_package_deployer.TestGetSourcePath object at 0x000001BDD75D2190>\n\n    def test_get_source_path_raises_when_not_found(self):\n        \"\"\"_get_source_path() raises PackageDeploymentError when source not found\"\"\"\n        deployer = PackageDeployer()\n    \n        with patch(\"pathlib.Path.cwd\", return_value=Path(\"/nonexistent\")):\n            with patch.dict(\"os.environ\", {}, clear=True):\n>               with pytest.raises(PackageDeploymentError) as exc_info:\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE               Failed: DID NOT RAISE <class 'mcp_server.daemon.package_deployer.PackageDeploymentError'>\n\ntests\\daemon\\test_package_deployer.py:89: Failed"}, "teardown": {"duration": 0.0007172999903559685, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestGetVersionFromPyproject::test_extract_version_from_pyproject", "lineno": 96, "outcome": "passed", "keywords": ["test_extract_version_from_pyproject", "TestGetVersionFromPyproject", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0004594999481923878, "outcome": "passed"}, "call": {"duration": 0.021369899972341955, "outcome": "passed"}, "teardown": {"duration": 0.0008118999539874494, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestGetVersionFromPyproject::test_version_extraction_with_quotes", "lineno": 108, "outcome": "passed", "keywords": ["test_version_extraction_with_quotes", "TestGetVersionFromPyproject", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005135999526828527, "outcome": "passed"}, "call": {"duration": 0.026070800027810037, "outcome": "passed"}, "teardown": {"duration": 0.00048230000538751483, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestGetVersionFromPyproject::test_version_missing_raises_error", "lineno": 124, "outcome": "passed", "keywords": ["test_version_missing_raises_error", "TestGetVersionFromPyproject", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0004224999574944377, "outcome": "passed"}, "call": {"duration": 0.0072734999703243375, "outcome": "passed"}, "teardown": {"duration": 0.0006984999636188149, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestShouldIgnore::test_ignores_pycache", "lineno": 141, "outcome": "passed", "keywords": ["test_ignores_pycache", "TestShouldIgnore", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.000597400008700788, "outcome": "passed"}, "call": {"duration": 0.0010470000561326742, "outcome": "passed"}, "teardown": {"duration": 0.00047470000572502613, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestShouldIgnore::test_ignores_venv", "lineno": 148, "outcome": "passed", "keywords": ["test_ignores_venv", "TestShouldIgnore", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005180999869480729, "outcome": "passed"}, "call": {"duration": 0.0009323999984189868, "outcome": "passed"}, "teardown": {"duration": 0.000457199988886714, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestShouldIgnore::test_ignores_tests", "lineno": 155, "outcome": "passed", "keywords": ["test_ignores_tests", "TestShouldIgnore", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.00035689998185262084, "outcome": "passed"}, "call": {"duration": 0.0009956000139936805, "outcome": "passed"}, "teardown": {"duration": 0.0005165000329725444, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestShouldIgnore::test_ignores_pyc_files", "lineno": 162, "outcome": "passed", "keywords": ["test_ignores_pyc_files", "TestShouldIgnore", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005689000245183706, "outcome": "passed"}, "call": {"duration": 0.00070830003824085, "outcome": "passed"}, "teardown": {"duration": 0.00031939998734742403, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestShouldIgnore::test_does_not_ignore_regular_files", "lineno": 169, "outcome": "passed", "keywords": ["test_does_not_ignore_regular_files", "TestShouldIgnore", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005110999918542802, "outcome": "passed"}, "call": {"duration": 0.0013890000409446657, "outcome": "passed"}, "teardown": {"duration": 0.0005042999982833862, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestBackupExisting::test_backup_creates_timestamped_directory", "lineno": 180, "outcome": "passed", "keywords": ["test_backup_creates_timestamped_directory", "TestBackupExisting", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.000539699976798147, "outcome": "passed"}, "call": {"duration": 0.010761200042907149, "outcome": "passed"}, "teardown": {"duration": 0.0021509999642148614, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestBackupExisting::test_backup_returns_none_when_no_deployment", "lineno": 197, "outcome": "passed", "keywords": ["test_backup_returns_none_when_no_deployment", "TestBackupExisting", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006450999644584954, "outcome": "passed"}, "call": {"duration": 0.0022763999877497554, "outcome": "passed"}, "teardown": {"duration": 0.0006499000010080636, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestBackupExisting::test_backup_preserves_directory_structure", "lineno": 206, "outcome": "passed", "keywords": ["test_backup_preserves_directory_structure", "TestBackupExisting", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006990000256337225, "outcome": "passed"}, "call": {"duration": 0.01632409996818751, "outcome": "passed"}, "teardown": {"duration": 0.0005921999691054225, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestVerifyDeployment::test_valid_deployment_returns_true", "lineno": 222, "outcome": "passed", "keywords": ["test_valid_deployment_returns_true", "TestVerifyDeployment", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005519000114873052, "outcome": "passed"}, "call": {"duration": 0.007807200017850846, "outcome": "passed"}, "teardown": {"duration": 0.0006504000048153102, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestVerifyDeployment::test_missing_version_file_returns_false", "lineno": 237, "outcome": "passed", "keywords": ["test_missing_version_file_returns_false", "TestVerifyDeployment", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006836000247858465, "outcome": "passed"}, "call": {"duration": 0.00675760000012815, "outcome": "passed"}, "teardown": {"duration": 0.0006671999581158161, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestVerifyDeployment::test_missing_key_files_returns_false", "lineno": 249, "outcome": "passed", "keywords": ["test_missing_key_files_returns_false", "TestVerifyDeployment", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.000603299995418638, "outcome": "passed"}, "call": {"duration": 0.005585099977906793, "outcome": "passed"}, "teardown": {"duration": 0.0007753000245429575, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestDeployPackage::test_deploy_creates_directory_structure", "lineno": 264, "outcome": "passed", "keywords": ["test_deploy_creates_directory_structure", "TestDeployPackage", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005720999906770885, "outcome": "passed"}, "call": {"duration": 0.029308800003491342, "outcome": "passed"}, "teardown": {"duration": 0.0003801999846473336, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestDeployPackage::test_deploy_excludes_venv_pycache_tests", "lineno": 287, "outcome": "passed", "keywords": ["test_deploy_excludes_venv_pycache_tests", "TestDeployPackage", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.000367900007404387, "outcome": "passed"}, "call": {"duration": 0.02717560000019148, "outcome": "passed"}, "teardown": {"duration": 0.00041749997762963176, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestDeployPackage::test_deploy_creates_version_file", "lineno": 320, "outcome": "passed", "keywords": ["test_deploy_creates_version_file", "TestDeployPackage", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.00044100004015490413, "outcome": "passed"}, "call": {"duration": 0.032425799989141524, "outcome": "passed"}, "teardown": {"duration": 0.0006796999950893223, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestDeployPackage::test_deploy_is_idempotent", "lineno": 340, "outcome": "passed", "keywords": ["test_deploy_is_idempotent", "TestDeployPackage", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006566999945789576, "outcome": "passed"}, "call": {"duration": 0.03004240000154823, "outcome": "passed"}, "teardown": {"duration": 0.0005423999973572791, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestDeployPackage::test_deploy_backs_up_old_deployment", "lineno": 364, "outcome": "passed", "keywords": ["test_deploy_backs_up_old_deployment", "TestDeployPackage", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.00042399996891617775, "outcome": "passed"}, "call": {"duration": 0.03831420000642538, "outcome": "passed"}, "teardown": {"duration": 0.0006950999959371984, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestDeployPackage::test_deploy_with_force_redeployment", "lineno": 390, "outcome": "passed", "keywords": ["test_deploy_with_force_redeployment", "TestDeployPackage", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0004289999487809837, "outcome": "passed"}, "call": {"duration": 0.05327969999052584, "outcome": "passed"}, "teardown": {"duration": 0.000798800028860569, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestGetDeployedVersion::test_get_deployed_version_returns_version", "lineno": 418, "outcome": "passed", "keywords": ["test_get_deployed_version_returns_version", "TestGetDeployedVersion", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006597000174224377, "outcome": "passed"}, "call": {"duration": 0.01917779998620972, "outcome": "passed"}, "teardown": {"duration": 0.001007299986667931, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestGetDeployedVersion::test_get_deployed_version_returns_none_when_not_deployed", "lineno": 429, "outcome": "passed", "keywords": ["test_get_deployed_version_returns_none_when_not_deployed", "TestGetDeployedVersion", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006846999749541283, "outcome": "passed"}, "call": {"duration": 0.0025967999827116728, "outcome": "passed"}, "teardown": {"duration": 0.00058970000827685, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestCrossPlatformPaths::test_windows_backslash_paths", "lineno": 441, "outcome": "passed", "keywords": ["test_windows_backslash_paths", "skipif", "pytestmark", "TestCrossPlatformPaths", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005993999657221138, "outcome": "passed"}, "call": {"duration": 0.0008784999954514205, "outcome": "passed"}, "teardown": {"duration": 0.00045930000487715006, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_package_deployer.py::TestCrossPlatformPaths::test_unix_forward_slash_paths", "lineno": 448, "outcome": "skipped", "keywords": ["test_unix_forward_slash_paths", "skipif", "pytestmark", "TestCrossPlatformPaths", "test_package_deployer.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0003766000154428184, "outcome": "skipped", "longrepr": "('C:\\\\Users\\\\Admin\\\\Documents\\\\GitHub\\\\graphiti\\\\tests\\\\daemon\\\\test_package_deployer.py', 449, 'Skipped: Unix-specific test')"}, "teardown": {"duration": 0.0004949999856762588, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestPathDetection::test_detect_in_path_when_present", "lineno": 26, "outcome": "passed", "keywords": ["test_detect_in_path_when_present", "TestPathDetection", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.004925900022499263, "outcome": "passed"}, "call": {"duration": 0.003140500048175454, "outcome": "passed"}, "teardown": {"duration": 0.0007117000059224665, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestPathDetection::test_detect_in_path_when_absent", "lineno": 42, "outcome": "passed", "keywords": ["test_detect_in_path_when_absent", "TestPathDetection", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.004930600000079721, "outcome": "passed"}, "call": {"duration": 0.030793000012636185, "outcome": "passed"}, "teardown": {"duration": 0.0011432000319473445, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestPathDetection::test_detect_in_path_with_empty_path", "lineno": 62, "outcome": "passed", "keywords": ["test_detect_in_path_with_empty_path", "TestPathDetection", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.004236100008711219, "outcome": "passed"}, "call": {"duration": 0.0015339000383391976, "outcome": "passed"}, "teardown": {"duration": 0.0006158000323921442, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestPathDetection::test_detect_in_path_idempotent", "lineno": 76, "outcome": "passed", "keywords": ["test_detect_in_path_idempotent", "TestPathDetection", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.004826100019272417, "outcome": "passed"}, "call": {"duration": 0.06424599996535107, "outcome": "passed"}, "teardown": {"duration": 0.0007630999898537993, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestPathDetection::test_detect_in_path_with_symlink", "lineno": 88, "outcome": "skipped", "keywords": ["test_detect_in_path_with_symlink", "TestPathDetection", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.007142599963117391, "outcome": "passed"}, "call": {"duration": 0.002778999973088503, "outcome": "skipped", "longrepr": "('C:\\\\Users\\\\Admin\\\\Documents\\\\GitHub\\\\graphiti\\\\tests\\\\daemon\\\\test_path_integration.py', 99, 'Skipped: Symlink creation not supported on this platform')"}, "teardown": {"duration": 0.0009460999863222241, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestShellDetection::test_detect_shell_from_env", "lineno": 116, "outcome": "skipped", "keywords": ["test_detect_shell_from_env", "skipif", "pytestmark", "TestShellDetection", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005429000011645257, "outcome": "skipped", "longrepr": "('C:\\\\Users\\\\Admin\\\\Documents\\\\GitHub\\\\graphiti\\\\tests\\\\daemon\\\\test_path_integration.py', 117, 'Skipped: Unix-specific test')"}, "teardown": {"duration": 0.0006394999800249934, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestShellDetection::test_detect_shell_zsh", "lineno": 132, "outcome": "skipped", "keywords": ["test_detect_shell_zsh", "skipif", "pytestmark", "TestShellDetection", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.00048370001604780555, "outcome": "skipped", "longrepr": "('C:\\\\Users\\\\Admin\\\\Documents\\\\GitHub\\\\graphiti\\\\tests\\\\daemon\\\\test_path_integration.py', 133, 'Skipped: Unix-specific test')"}, "teardown": {"duration": 0.0005096000386402011, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestShellDetection::test_detect_shell_from_passwd", "lineno": 148, "outcome": "skipped", "keywords": ["test_detect_shell_from_passwd", "skipif", "__wrapped__", "patchings", "pytestmark", "TestShellDetection", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.00043839996214956045, "outcome": "skipped", "longrepr": "('C:\\\\Users\\\\Admin\\\\Documents\\\\GitHub\\\\graphiti\\\\tests\\\\daemon\\\\test_path_integration.py', 149, 'Skipped: Unix-specific test')"}, "teardown": {"duration": 0.0005058000097051263, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestShellDetection::test_detect_shell_defaults_to_bash", "lineno": 162, "outcome": "skipped", "keywords": ["test_detect_shell_defaults_to_bash", "skipif", "__wrapped__", "patchings", "pytestmark", "TestShellDetection", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.00043079996248707175, "outcome": "skipped", "longrepr": "('C:\\\\Users\\\\Admin\\\\Documents\\\\GitHub\\\\graphiti\\\\tests\\\\daemon\\\\test_path_integration.py', 163, 'Skipped: Unix-specific test')"}, "teardown": {"duration": 0.0004539000219665468, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestUnixSnippetGeneration::test_generate_unix_snippet_bash", "lineno": 175, "outcome": "skipped", "keywords": ["test_generate_unix_snippet_bash", "skipif", "pytestmark", "TestUnixSnippetGeneration", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0004266000469215214, "outcome": "skipped", "longrepr": "('C:\\\\Users\\\\Admin\\\\Documents\\\\GitHub\\\\graphiti\\\\tests\\\\daemon\\\\test_path_integration.py', 176, 'Skipped: Unix-specific test')"}, "teardown": {"duration": 0.0004292000085115433, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestUnixSnippetGeneration::test_generate_unix_snippet_zsh", "lineno": 193, "outcome": "skipped", "keywords": ["test_generate_unix_snippet_zsh", "skipif", "pytestmark", "TestUnixSnippetGeneration", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.00037999998312443495, "outcome": "skipped", "longrepr": "('C:\\\\Users\\\\Admin\\\\Documents\\\\GitHub\\\\graphiti\\\\tests\\\\daemon\\\\test_path_integration.py', 194, 'Skipped: Unix-specific test')"}, "teardown": {"duration": 0.000728099956177175, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestWindowsRegistry::test_configure_windows_path_with_consent", "lineno": 215, "outcome": "passed", "keywords": ["test_configure_windows_path_with_consent", "skipif", "pytestmark", "TestWindowsRegistry", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.004445500031579286, "outcome": "passed"}, "call": {"duration": 0.02420220000203699, "outcome": "passed"}, "teardown": {"duration": 0.0007937000482343137, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestWindowsRegistry::test_configure_windows_path_without_consent", "lineno": 238, "outcome": "passed", "keywords": ["test_configure_windows_path_without_consent", "skipif", "pytestmark", "TestWindowsRegistry", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.006951400020625442, "outcome": "passed"}, "call": {"duration": 0.0017912000184878707, "outcome": "passed"}, "teardown": {"duration": 0.00045279995538294315, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestWindowsRegistry::test_configure_windows_path_already_present", "lineno": 250, "outcome": "passed", "keywords": ["test_configure_windows_path_already_present", "skipif", "pytestmark", "TestWindowsRegistry", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.005071200022939593, "outcome": "passed"}, "call": {"duration": 0.002231399994343519, "outcome": "passed"}, "teardown": {"duration": 0.0006807000027038157, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestWindowsRegistry::test_configure_windows_path_permission_error", "lineno": 265, "outcome": "passed", "keywords": ["test_configure_windows_path_permission_error", "skipif", "pytestmark", "TestWindowsRegistry", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.00530699995579198, "outcome": "passed"}, "call": {"duration": 0.02230399998370558, "outcome": "passed", "log": [{"name": "mcp_server.daemon.path_integration", "msg": "Permission denied: Cannot modify registry.\nTry running with administrator privileges.", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\mcp_server\\daemon\\path_integration.py", "filename": "path_integration.py", "module": "path_integration", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 246, "funcName": "configure_windows_path", "created": 1766537622.8598485, "msecs": 859.0, "relativeCreated": 35648.4218, "thread": 5236, "threadName": "MainThread", "processName": "MainProcess", "process": 17564, "taskName": null}]}, "teardown": {"duration": 0.0007165999850258231, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestInstructionDisplay::test_display_instructions_when_already_configured", "lineno": 283, "outcome": "passed", "keywords": ["test_display_instructions_when_already_configured", "__wrapped__", "patchings", "TestInstructionDisplay", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0041112000471912324, "outcome": "passed"}, "call": {"duration": 0.002946200023870915, "outcome": "passed"}, "teardown": {"duration": 0.00045280001359060407, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestInstructionDisplay::test_display_windows_instructions_consent_declined", "lineno": 303, "outcome": "passed", "keywords": ["test_display_windows_instructions_consent_declined", "skipif", "__wrapped__", "patchings", "pytestmark", "TestInstructionDisplay", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.006402899976819754, "outcome": "passed"}, "call": {"duration": 0.00350689998595044, "outcome": "passed"}, "teardown": {"duration": 0.0005289000109769404, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestInstructionDisplay::test_display_unix_instructions", "lineno": 324, "outcome": "skipped", "keywords": ["test_display_unix_instructions", "skipif", "__wrapped__", "patchings", "pytestmark", "TestInstructionDisplay", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0003892999957315624, "outcome": "skipped", "longrepr": "('C:\\\\Users\\\\Admin\\\\Documents\\\\GitHub\\\\graphiti\\\\tests\\\\daemon\\\\test_path_integration.py', 325, 'Skipped: Unix-specific test')"}, "teardown": {"duration": 0.00036230002297088504, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestEdgeCases::test_path_integration_default_bin_path", "lineno": 346, "outcome": "passed", "keywords": ["test_path_integration_default_bin_path", "TestEdgeCases", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.00034330005291849375, "outcome": "passed"}, "call": {"duration": 0.0005373000167310238, "outcome": "passed"}, "teardown": {"duration": 0.0002794000320136547, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestEdgeCases::test_path_integration_custom_bin_path", "lineno": 352, "outcome": "passed", "keywords": ["test_path_integration_custom_bin_path", "TestEdgeCases", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.003113300015684217, "outcome": "passed"}, "call": {"duration": 0.0005296000163070858, "outcome": "passed"}, "teardown": {"duration": 0.0005670000100508332, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestEdgeCases::test_configure_windows_path_on_unix_fails", "lineno": 358, "outcome": "skipped", "keywords": ["test_configure_windows_path_on_unix_fails", "skipif", "pytestmark", "TestEdgeCases", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.00042970001231878996, "outcome": "skipped", "longrepr": "('C:\\\\Users\\\\Admin\\\\Documents\\\\GitHub\\\\graphiti\\\\tests\\\\daemon\\\\test_path_integration.py', 359, 'Skipped: Unix-specific test')"}, "teardown": {"duration": 0.0004907999536953866, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_path_integration.py::TestEdgeCases::test_detect_in_path_with_nonexistent_bin_path", "lineno": 370, "outcome": "passed", "keywords": ["test_detect_in_path_with_nonexistent_bin_path", "TestEdgeCases", "test_path_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.007103500014636666, "outcome": "passed"}, "call": {"duration": 0.024982399947475642, "outcome": "passed"}, "teardown": {"duration": 0.0005923000280745327, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestWindowsServiceVenvIntegration::test_windows_service_uses_venv_python_path", "lineno": 25, "outcome": "passed", "keywords": ["test_windows_service_uses_venv_python_path", "TestWindowsServiceVenvIntegration", "test_service_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005990999634377658, "outcome": "passed"}, "call": {"duration": 0.014497999974992126, "outcome": "passed"}, "teardown": {"duration": 0.0005372000159695745, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestWindowsServiceVenvIntegration::test_windows_service_calls_venv_manager_get_python_executable", "lineno": 46, "outcome": "passed", "keywords": ["test_windows_service_calls_venv_manager_get_python_executable", "TestWindowsServiceVenvIntegration", "test_service_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.000561599968932569, "outcome": "passed"}, "call": {"duration": 0.01205719995778054, "outcome": "passed"}, "teardown": {"duration": 0.000576100021135062, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestWindowsServiceVenvIntegration::test_windows_service_handles_venv_missing_gracefully", "lineno": 59, "outcome": "passed", "keywords": ["test_windows_service_handles_venv_missing_gracefully", "TestWindowsServiceVenvIntegration", "test_service_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0003934999695047736, "outcome": "passed"}, "call": {"duration": 0.014857099973596632, "outcome": "passed"}, "teardown": {"duration": 0.0006535999709740281, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestLaunchdServiceVenvIntegration::test_launchd_service_uses_venv_python_path", "lineno": 77, "outcome": "passed", "keywords": ["test_launchd_service_uses_venv_python_path", "TestLaunchdServiceVenvIntegration", "test_service_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006391999777406454, "outcome": "passed"}, "call": {"duration": 0.0030536999693140388, "outcome": "passed"}, "teardown": {"duration": 0.0006866000476293266, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestLaunchdServiceVenvIntegration::test_launchd_service_calls_venv_manager_get_python_executable", "lineno": 98, "outcome": "passed", "keywords": ["test_launchd_service_calls_venv_manager_get_python_executable", "TestLaunchdServiceVenvIntegration", "test_service_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006644999957643449, "outcome": "passed"}, "call": {"duration": 0.00326550001045689, "outcome": "passed"}, "teardown": {"duration": 0.0005882999976165593, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestLaunchdServiceVenvIntegration::test_launchd_service_handles_venv_missing_gracefully", "lineno": 111, "outcome": "passed", "keywords": ["test_launchd_service_handles_venv_missing_gracefully", "TestLaunchdServiceVenvIntegration", "test_service_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005933999782428145, "outcome": "passed"}, "call": {"duration": 0.0029678000137209892, "outcome": "passed"}, "teardown": {"duration": 0.0005312000284902751, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestSystemdServiceVenvIntegration::test_systemd_service_uses_venv_python_path", "lineno": 129, "outcome": "passed", "keywords": ["test_systemd_service_uses_venv_python_path", "TestSystemdServiceVenvIntegration", "test_service_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005936000379733741, "outcome": "passed"}, "call": {"duration": 0.003270199988037348, "outcome": "passed"}, "teardown": {"duration": 0.0006967000081203878, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestSystemdServiceVenvIntegration::test_systemd_service_calls_venv_manager_get_python_executable", "lineno": 150, "outcome": "passed", "keywords": ["test_systemd_service_calls_venv_manager_get_python_executable", "TestSystemdServiceVenvIntegration", "test_service_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006076999707147479, "outcome": "passed"}, "call": {"duration": 0.0026848000125028193, "outcome": "passed"}, "teardown": {"duration": 0.0005863000405952334, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestSystemdServiceVenvIntegration::test_systemd_service_handles_venv_missing_gracefully", "lineno": 163, "outcome": "passed", "keywords": ["test_systemd_service_handles_venv_missing_gracefully", "TestSystemdServiceVenvIntegration", "test_service_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006040000007487833, "outcome": "passed"}, "call": {"duration": 0.003883600002154708, "outcome": "passed"}, "teardown": {"duration": 0.0006532000261358917, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestServiceManagerPlatformSpecificPaths::test_windows_service_uses_scripts_python_exe", "lineno": 181, "outcome": "passed", "keywords": ["test_windows_service_uses_scripts_python_exe", "TestServiceManagerPlatformSpecificPaths", "test_service_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.00045330001739785075, "outcome": "passed"}, "call": {"duration": 0.009908499952871352, "outcome": "passed"}, "teardown": {"duration": 0.0006770999752916396, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestServiceManagerPlatformSpecificPaths::test_unix_services_use_bin_python", "lineno": 196, "outcome": "passed", "keywords": ["test_unix_services_use_bin_python", "TestServiceManagerPlatformSpecificPaths", "test_service_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0007667000172659755, "outcome": "passed"}, "call": {"duration": 0.005518100049812347, "outcome": "passed"}, "teardown": {"duration": 0.0006772000342607498, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestServiceTemplateGeneration::test_windows_service_template_uses_venv_python", "lineno": 232, "outcome": "passed", "keywords": ["test_windows_service_template_uses_venv_python", "TestServiceTemplateGeneration", "test_service_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006295000202953815, "outcome": "passed"}, "call": {"duration": 0.006852200021967292, "outcome": "passed"}, "teardown": {"duration": 0.0007576000061817467, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestServiceTemplateGeneration::test_launchd_plist_uses_venv_python", "lineno": 258, "outcome": "passed", "keywords": ["test_launchd_plist_uses_venv_python", "TestServiceTemplateGeneration", "test_service_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0007024999940767884, "outcome": "passed"}, "call": {"duration": 0.0038540999521501362, "outcome": "passed"}, "teardown": {"duration": 0.000776899978518486, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestServiceTemplateGeneration::test_systemd_unit_uses_venv_python", "lineno": 274, "outcome": "passed", "keywords": ["test_systemd_unit_uses_venv_python", "TestServiceTemplateGeneration", "test_service_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006407999899238348, "outcome": "passed"}, "call": {"duration": 0.003942799987271428, "outcome": "passed"}, "teardown": {"duration": 0.0007664000149816275, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestDaemonManagerServiceIntegration::test_daemon_manager_passes_venv_manager_to_service_manager", "lineno": 294, "outcome": "passed", "keywords": ["test_daemon_manager_passes_venv_manager_to_service_manager", "TestDaemonManagerServiceIntegration", "test_service_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.000986300001386553, "outcome": "passed"}, "call": {"duration": 0.18230909999692813, "outcome": "passed", "stdout": "Installing Graphiti bootstrap service on Linux...\n\n[OK] Python version check passed\n\nCreating dedicated virtual environment...\n[OK] Venv created\n\nDeploying mcp_server package to ~/.graphiti/mcp_server/...\n[OK] Deployment already exists at C:\\Users\\Admin\\.graphiti\\mcp_server (version 1.0.1), skipping\n\nInstalling mcp_server package...\n[OK] Package installed\n\nGenerating CLI wrapper scripts...\n[OK] Wrappers generated\n\n============================================================\nPATH Configuration\n============================================================\n\n[ACTION REQUIRED] Add C:\\Users\\Admin\\.graphiti\\bin to your PATH\n\nOption 1: GUI (Manual)\n  1. Open System Properties > Advanced > Environment Variables\n  2. Under 'User variables', select 'Path' and click 'Edit'\n  3. Click 'New' and add: C:\\Users\\Admin\\.graphiti\\bin\n  4. Click 'OK' to save\n\nOption 2: PowerShell (Automatic)\n  Run this command in PowerShell (as Administrator):\n\n  $env:Path += \";C:\\Users\\Admin\\.graphiti\\bin\"\n  [Environment]::SetEnvironmentVariable(\"Path\", $env:Path, \"User\")\n\nOption 3: Let this installer do it (requires consent)\n\n  Modify registry to add PATH? (y/n): [WARNING] Unexpected error during PATH integration: pytest: reading from stdin while output is captured!  Consider using `-s`.\n  You may need to manually add ~/.graphiti/bin/ to your PATH\n\n\n[SUCCESS] Bootstrap service installed successfully\n\nDaemon is now running with auto-start enabled!\n\nWhat's happening:\n  - The MCP server will start automatically within 5 seconds\n  - Config file created/updated with daemon.enabled = true\n\nNext steps:\n  1. Check status: graphiti-mcp daemon status\n  2. View logs: graphiti-mcp daemon logs\n  3. Edit config (optional): C:\\Users\\Admin\\.graphiti\\graphiti.config.json\n"}, "teardown": {"duration": 0.0011166000040248036, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestSecurityServiceFiles::test_service_files_dont_contain_hardcoded_credentials", "lineno": 328, "outcome": "passed", "keywords": ["test_service_files_dont_contain_hardcoded_credentials", "TestSecurityServiceFiles", "test_service_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006688000285066664, "outcome": "passed"}, "call": {"duration": 0.006832799990661442, "outcome": "passed"}, "teardown": {"duration": 0.0007070000283420086, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_service_venv_integration.py::TestSecurityServiceFiles::test_venv_path_resolution_prevents_path_traversal", "lineno": 357, "outcome": "passed", "keywords": ["test_venv_path_resolution_prevents_path_traversal", "TestSecurityServiceFiles", "test_service_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005993999657221138, "outcome": "passed"}, "call": {"duration": 0.002181299962103367, "outcome": "passed"}, "teardown": {"duration": 0.0004928999696858227, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallVenvCreation::test_daemon_install_creates_venv", "lineno": 27, "outcome": "failed", "keywords": ["test_daemon_install_creates_venv", "TestDaemonInstallVenvCreation", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005032999906688929, "outcome": "passed"}, "call": {"duration": 0.00721840001642704, "outcome": "failed", "crash": {"path": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\tests\\daemon\\test_venv_integration.py", "lineno": 46, "message": "assert False is True"}, "traceback": [{"path": "tests\\daemon\\test_venv_integration.py", "lineno": 46, "message": "AssertionError"}], "stdout": "Installing Graphiti bootstrap service on Linux...\n\n[OK] Python version check passed\n\nCreating dedicated virtual environment...\n[OK] Venv created successfully\n\nDeploying mcp_server package to ~/.graphiti/mcp_server/...\n[OK] Deployment already exists at C:\\Users\\Admin\\.graphiti\\mcp_server (version 1.0.1), skipping\n\nInstalling mcp_server package...\n[FAILED] Unexpected error during package installation: not enough values to unpack (expected 2, got 0)\n", "longrepr": "self = <tests.daemon.test_venv_integration.TestDaemonInstallVenvCreation object at 0x000001BDD76BAD50>\n\n    def test_daemon_install_creates_venv(self):\n        \"\"\"daemon install creates venv at ~/.graphiti/.venv/\"\"\"\n        with patch('platform.system', return_value='Linux'):\n            with patch('mcp_server.daemon.manager.SystemdServiceManager'):\n                manager = DaemonManager()\n    \n                # Mock VenvManager\n                with patch.object(manager, 'venv_manager') as mock_venv:\n                    mock_venv.create_venv.return_value = (True, \"Venv created successfully\")\n                    mock_venv.validate_python_version.return_value = True\n    \n                    # Mock service manager install\n                    with patch.object(manager.service_manager, 'install', return_value=True):\n                        result = manager.install()\n    \n                        # Verify venv creation was attempted\n                        mock_venv.validate_python_version.assert_called_once()\n                        mock_venv.create_venv.assert_called_once()\n>                       assert result is True\nE                       assert False is True\n\ntests\\daemon\\test_venv_integration.py:46: AssertionError"}, "teardown": {"duration": 0.0005003000260330737, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallVenvCreation::test_daemon_install_skips_venv_if_exists", "lineno": 47, "outcome": "failed", "keywords": ["test_daemon_install_skips_venv_if_exists", "TestDaemonInstallVenvCreation", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0004382999613881111, "outcome": "passed"}, "call": {"duration": 0.00800059997709468, "outcome": "failed", "crash": {"path": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\tests\\daemon\\test_venv_integration.py", "lineno": 68, "message": "assert False is True"}, "traceback": [{"path": "tests\\daemon\\test_venv_integration.py", "lineno": 68, "message": "AssertionError"}], "stdout": "Installing Graphiti bootstrap service on Linux...\n\n[OK] Python version check passed\n\nCreating dedicated virtual environment...\n[OK] Venv already exists, skipping creation\n\nDeploying mcp_server package to ~/.graphiti/mcp_server/...\n[OK] Deployment already exists at C:\\Users\\Admin\\.graphiti\\mcp_server (version 1.0.1), skipping\n\nInstalling mcp_server package...\n[FAILED] Unexpected error during package installation: not enough values to unpack (expected 2, got 0)\n", "longrepr": "self = <tests.daemon.test_venv_integration.TestDaemonInstallVenvCreation object at 0x000001BDD76BB110>\n\n    def test_daemon_install_skips_venv_if_exists(self):\n        \"\"\"daemon install skips venv creation if already exists\"\"\"\n        with patch('platform.system', return_value='Linux'):\n            with patch('mcp_server.daemon.manager.SystemdServiceManager'):\n                manager = DaemonManager()\n    \n                # Mock VenvManager - venv already exists\n                with patch.object(manager, 'venv_manager') as mock_venv:\n                    mock_venv.validate_python_version.return_value = True\n                    # create_venv should not be called for existing venv\n                    mock_venv.create_venv.return_value = (True, \"Venv already exists, skipping creation\")\n    \n                    # Mock service manager install\n                    with patch.object(manager.service_manager, 'install', return_value=True):\n                        result = manager.install()\n    \n                        # Verify venv creation was called (idempotency check is internal)\n                        mock_venv.validate_python_version.assert_called_once()\n                        # create_venv is called, but internally returns early if exists\n                        mock_venv.create_venv.assert_called_once()\n>                       assert result is True\nE                       assert False is True\n\ntests\\daemon\\test_venv_integration.py:68: AssertionError"}, "teardown": {"duration": 0.0007616999791935086, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallVenvCreation::test_daemon_install_fails_with_old_python", "lineno": 69, "outcome": "passed", "keywords": ["test_daemon_install_fails_with_old_python", "TestDaemonInstallVenvCreation", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005710999830625951, "outcome": "passed"}, "call": {"duration": 0.0035113999620079994, "outcome": "passed", "stdout": "Installing Graphiti bootstrap service on Linux...\n\n[FAILED] Python 3.10+ required, but running Python 3.9\n\nPlease upgrade to Python 3.10 or higher:\n  https://www.python.org/downloads/\n"}, "teardown": {"duration": 0.0007144000264815986, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallWithUv::test_daemon_install_with_uv_available", "lineno": 94, "outcome": "failed", "keywords": ["test_daemon_install_with_uv_available", "TestDaemonInstallWithUv", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005973000079393387, "outcome": "passed"}, "call": {"duration": 0.006738200027029961, "outcome": "failed", "crash": {"path": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\tests\\daemon\\test_venv_integration.py", "lineno": 112, "message": "assert False is True"}, "traceback": [{"path": "tests\\daemon\\test_venv_integration.py", "lineno": 112, "message": "AssertionError"}], "stdout": "Installing Graphiti bootstrap service on Linux...\n\n[OK] Python version check passed\n\nCreating dedicated virtual environment...\n[OK] Venv created successfully using uv\n\nDeploying mcp_server package to ~/.graphiti/mcp_server/...\n[OK] Deployment already exists at C:\\Users\\Admin\\.graphiti\\mcp_server (version 1.0.1), skipping\n\nInstalling mcp_server package...\n[FAILED] Unexpected error during package installation: not enough values to unpack (expected 2, got 0)\n", "longrepr": "self = <tests.daemon.test_venv_integration.TestDaemonInstallWithUv object at 0x000001BDD76BB250>\n\n    def test_daemon_install_with_uv_available(self):\n        \"\"\"daemon install succeeds with uv when available\"\"\"\n        with patch('platform.system', return_value='Linux'):\n            with patch('mcp_server.daemon.manager.SystemdServiceManager'):\n                manager = DaemonManager()\n    \n                # Mock VenvManager with uv available\n                with patch.object(manager, 'venv_manager') as mock_venv:\n                    mock_venv.validate_python_version.return_value = True\n                    mock_venv.create_venv.return_value = (True, \"Venv created successfully using uv\")\n    \n                    # Mock service manager install\n                    with patch.object(manager.service_manager, 'install', return_value=True):\n                        result = manager.install()\n    \n                        # Verify venv creation was called\n                        mock_venv.create_venv.assert_called_once()\n>                       assert result is True\nE                       assert False is True\n\ntests\\daemon\\test_venv_integration.py:112: AssertionError"}, "teardown": {"duration": 0.0007477999897673726, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallWithUv::test_daemon_install_without_uv_fallback", "lineno": 113, "outcome": "failed", "keywords": ["test_daemon_install_without_uv_fallback", "TestDaemonInstallWithUv", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0004220000118948519, "outcome": "passed"}, "call": {"duration": 0.007338499999605119, "outcome": "failed", "crash": {"path": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\tests\\daemon\\test_venv_integration.py", "lineno": 131, "message": "assert False is True"}, "traceback": [{"path": "tests\\daemon\\test_venv_integration.py", "lineno": 131, "message": "AssertionError"}], "stdout": "Installing Graphiti bootstrap service on Linux...\n\n[OK] Python version check passed\n\nCreating dedicated virtual environment...\n[OK] Venv created successfully using python -m venv\n\nDeploying mcp_server package to ~/.graphiti/mcp_server/...\n[OK] Deployment already exists at C:\\Users\\Admin\\.graphiti\\mcp_server (version 1.0.1), skipping\n\nInstalling mcp_server package...\n[FAILED] Unexpected error during package installation: not enough values to unpack (expected 2, got 0)\n", "longrepr": "self = <tests.daemon.test_venv_integration.TestDaemonInstallWithUv object at 0x000001BDD76BB390>\n\n    def test_daemon_install_without_uv_fallback(self):\n        \"\"\"daemon install succeeds without uv (fallback to python -m venv)\"\"\"\n        with patch('platform.system', return_value='Linux'):\n            with patch('mcp_server.daemon.manager.SystemdServiceManager'):\n                manager = DaemonManager()\n    \n                # Mock VenvManager with uv NOT available\n                with patch.object(manager, 'venv_manager') as mock_venv:\n                    mock_venv.validate_python_version.return_value = True\n                    mock_venv.create_venv.return_value = (True, \"Venv created successfully using python -m venv\")\n    \n                    # Mock service manager install\n                    with patch.object(manager.service_manager, 'install', return_value=True):\n                        result = manager.install()\n    \n                        # Verify venv creation was called\n                        mock_venv.create_venv.assert_called_once()\n>                       assert result is True\nE                       assert False is True\n\ntests\\daemon\\test_venv_integration.py:131: AssertionError"}, "teardown": {"duration": 0.0007020999910309911, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonStatusVenv::test_daemon_status_shows_venv_exists", "lineno": 136, "outcome": "passed", "keywords": ["test_daemon_status_shows_venv_exists", "TestDaemonStatusVenv", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0004655999946407974, "outcome": "passed"}, "call": {"duration": 0.005678700050339103, "outcome": "passed"}, "teardown": {"duration": 0.0007307000341825187, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonStatusVenv::test_daemon_status_shows_venv_missing", "lineno": 159, "outcome": "passed", "keywords": ["test_daemon_status_shows_venv_missing", "TestDaemonStatusVenv", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005900999531149864, "outcome": "passed"}, "call": {"duration": 0.006740500044543296, "outcome": "passed"}, "teardown": {"duration": 0.00415150000480935, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonStatusVenv::test_daemon_status_shows_venv_invalid", "lineno": 182, "outcome": "passed", "keywords": ["test_daemon_status_shows_venv_invalid", "TestDaemonStatusVenv", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006770999752916396, "outcome": "passed"}, "call": {"duration": 0.008310600009281188, "outcome": "passed"}, "teardown": {"duration": 0.0007718999986536801, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestBootstrapVenvValidation::test_bootstrap_validates_venv_exists", "lineno": 208, "outcome": "passed", "keywords": ["test_bootstrap_validates_venv_exists", "TestBootstrapVenvValidation", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006489999941550195, "outcome": "passed"}, "call": {"duration": 0.01601010002195835, "outcome": "passed"}, "teardown": {"duration": 0.0006751000182703137, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestBootstrapVenvValidation::test_bootstrap_warns_if_venv_missing", "lineno": 229, "outcome": "passed", "keywords": ["test_bootstrap_warns_if_venv_missing", "TestBootstrapVenvValidation", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006576000014320016, "outcome": "passed"}, "call": {"duration": 0.004292799974791706, "outcome": "passed"}, "teardown": {"duration": 0.0007856000447645783, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestSecurityAndPermissions::test_venv_directory_permissions", "lineno": 253, "outcome": "passed", "keywords": ["test_venv_directory_permissions", "TestSecurityAndPermissions", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0010537999914959073, "outcome": "passed"}, "call": {"duration": 0.0027259000344201922, "outcome": "passed"}, "teardown": {"duration": 0.0011062999838031828, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestSecurityAndPermissions::test_subprocess_commands_properly_escaped", "lineno": 267, "outcome": "passed", "keywords": ["test_subprocess_commands_properly_escaped", "TestSecurityAndPermissions", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.000609199982136488, "outcome": "passed"}, "call": {"duration": 0.003805599990300834, "outcome": "passed"}, "teardown": {"duration": 0.0004920000210404396, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestSecurityAndPermissions::test_path_traversal_prevention", "lineno": 285, "outcome": "passed", "keywords": ["test_path_traversal_prevention", "TestSecurityAndPermissions", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.00040880002779886127, "outcome": "passed"}, "call": {"duration": 0.0006296000210568309, "outcome": "passed"}, "teardown": {"duration": 0.00045760005014017224, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallPackageIntegration::test_daemon_install_installs_package_after_venv_creation", "lineno": 300, "outcome": "passed", "keywords": ["test_daemon_install_installs_package_after_venv_creation", "TestDaemonInstallPackageIntegration", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0003679999499581754, "outcome": "passed"}, "call": {"duration": 0.029793099965900183, "outcome": "passed", "stdout": "Installing Graphiti bootstrap service on Linux...\n\n[OK] Python version check passed\n\nCreating dedicated virtual environment...\n[OK] Venv created\n\nDeploying mcp_server package to ~/.graphiti/mcp_server/...\n[OK] Deployment already exists at C:\\Users\\Admin\\.graphiti\\mcp_server (version 1.0.1), skipping\n\nInstalling mcp_server package...\n[OK] Package installed\n\nGenerating CLI wrapper scripts...\n[OK] Successfully generated 3 wrapper scripts in C:\\Users\\Admin\\.graphiti\\bin\nCommands: graphiti-mcp, graphiti-bootstrap, graphiti-mcp-daemon\n\n============================================================\nPATH Configuration\n============================================================\n\n[ACTION REQUIRED] Add C:\\Users\\Admin\\.graphiti\\bin to your PATH\n\nOption 1: GUI (Manual)\n  1. Open System Properties > Advanced > Environment Variables\n  2. Under 'User variables', select 'Path' and click 'Edit'\n  3. Click 'New' and add: C:\\Users\\Admin\\.graphiti\\bin\n  4. Click 'OK' to save\n\nOption 2: PowerShell (Automatic)\n  Run this command in PowerShell (as Administrator):\n\n  $env:Path += \";C:\\Users\\Admin\\.graphiti\\bin\"\n  [Environment]::SetEnvironmentVariable(\"Path\", $env:Path, \"User\")\n\nOption 3: Let this installer do it (requires consent)\n\n  Modify registry to add PATH? (y/n): [WARNING] Unexpected error during PATH integration: pytest: reading from stdin while output is captured!  Consider using `-s`.\n  You may need to manually add ~/.graphiti/bin/ to your PATH\n\n\n[SUCCESS] Bootstrap service installed successfully\n\nDaemon is now running with auto-start enabled!\n\nWhat's happening:\n  - The MCP server will start automatically within 5 seconds\n  - Config file created/updated with daemon.enabled = true\n\nNext steps:\n  1. Check status: graphiti-mcp daemon status\n  2. View logs: graphiti-mcp daemon logs\n  3. Edit config (optional): C:\\Users\\Admin\\.graphiti\\graphiti.config.json\n"}, "teardown": {"duration": 0.0006484999903477728, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallPackageIntegration::test_daemon_install_uses_uv_pip_when_available", "lineno": 321, "outcome": "passed", "keywords": ["test_daemon_install_uses_uv_pip_when_available", "TestDaemonInstallPackageIntegration", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006564999930560589, "outcome": "passed"}, "call": {"duration": 0.005771800002548844, "outcome": "passed"}, "teardown": {"duration": 0.0006831000209785998, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallPackageIntegration::test_daemon_install_falls_back_to_pip_when_uv_not_available", "lineno": 341, "outcome": "failed", "keywords": ["test_daemon_install_falls_back_to_pip_when_uv_not_available", "TestDaemonInstallPackageIntegration", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006130000110715628, "outcome": "passed"}, "call": {"duration": 0.005317299976013601, "outcome": "failed", "crash": {"path": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\tests\\daemon\\test_venv_integration.py", "lineno": 358, "message": "AssertionError: assert 'pip' in 'C:\\\\python313\\\\Scripts\\\\uvx.EXE'\n +  where 'C:\\\\python313\\\\Scripts\\\\uvx.EXE' = str('C:\\\\python313\\\\Scripts\\\\uvx.EXE')"}, "traceback": [{"path": "tests\\daemon\\test_venv_integration.py", "lineno": 358, "message": "AssertionError"}], "longrepr": "self = <tests.daemon.test_venv_integration.TestDaemonInstallPackageIntegration object at 0x000001BDD77B0640>\n\n    def test_daemon_install_falls_back_to_pip_when_uv_not_available(self):\n        \"\"\"daemon install falls back to standard pip when uv not available\"\"\"\n        manager = VenvManager()\n    \n        mock_repo_root = Path('/home/user/graphiti')\n    \n        with patch.object(manager, 'detect_repo_location', return_value=mock_repo_root):\n            with patch.object(manager, 'get_uv_executable', return_value=None):\n                with patch.object(manager, 'validate_installation', return_value=True):\n                    with patch('subprocess.run') as mock_run:\n                        mock_run.return_value = Mock(returncode=0, stdout='', stderr='')\n                        with patch('platform.system', return_value='Linux'):\n                            success, _ = manager.install_package()\n    \n                            # Verify standard pip was used\n                            call_args = mock_run.call_args[0][0]\n>                           assert 'pip' in str(call_args[0])\nE                           AssertionError: assert 'pip' in 'C:\\\\python313\\\\Scripts\\\\uvx.EXE'\nE                            +  where 'C:\\\\python313\\\\Scripts\\\\uvx.EXE' = str('C:\\\\python313\\\\Scripts\\\\uvx.EXE')\n\ntests\\daemon\\test_venv_integration.py:358: AssertionError"}, "teardown": {"duration": 0.0005865000421181321, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallPackageIntegration::test_daemon_install_validates_package_installation", "lineno": 360, "outcome": "passed", "keywords": ["test_daemon_install_validates_package_installation", "TestDaemonInstallPackageIntegration", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006632999866269529, "outcome": "passed"}, "call": {"duration": 0.006496499991044402, "outcome": "passed"}, "teardown": {"duration": 0.000736100017093122, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallPackageIntegration::test_daemon_install_fails_gracefully_if_package_install_fails", "lineno": 380, "outcome": "passed", "keywords": ["test_daemon_install_fails_gracefully_if_package_install_fails", "TestDaemonInstallPackageIntegration", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0009586000232957304, "outcome": "passed"}, "call": {"duration": 0.008566900040023029, "outcome": "passed", "stdout": "Installing Graphiti bootstrap service on Linux...\n\n[OK] Python version check passed\n\nCreating dedicated virtual environment...\n[OK] Venv created\n\nDeploying mcp_server package to ~/.graphiti/mcp_server/...\n[OK] Deployment already exists at C:\\Users\\Admin\\.graphiti\\mcp_server (version 1.0.1), skipping\n\nInstalling mcp_server package...\n[FAILED] Package installation failed: Installation failed\n\nTroubleshooting:\n  - Ensure you're running from the Graphiti repository directory\n  - Check internet connection (needed for package dependencies)\n  - Verify mcp_server/pyproject.toml exists in repository\n"}, "teardown": {"duration": 0.0004714000388048589, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallPackageIntegration::test_installed_package_is_importable_from_venv_python", "lineno": 396, "outcome": "failed", "keywords": ["test_installed_package_is_importable_from_venv_python", "TestDaemonInstallPackageIntegration", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006041000015102327, "outcome": "passed"}, "call": {"duration": 0.0032303999760188162, "outcome": "failed", "crash": {"path": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\tests\\daemon\\test_venv_integration.py", "lineno": 409, "message": "AssertionError: assert 'C:\\\\Users\\\\Admin\\\\.graphiti\\\\.venv\\\\bin\\\\python' in 'C:\\\\Users\\\\Admin\\\\.graphiti\\\\.venv\\\\Scripts\\\\python.exe'\n +  where 'C:\\\\Users\\\\Admin\\\\.graphiti\\\\.venv\\\\bin\\\\python' = str(((WindowsPath('C:/Users/Admin/.graphiti/.venv') / 'bin') / 'python'))\n +    where WindowsPath('C:/Users/Admin/.graphiti/.venv') = <mcp_server.daemon.venv_manager.VenvManager object at 0x000001BDD7A81370>.venv_path\n +  and   'C:\\\\Users\\\\Admin\\\\.graphiti\\\\.venv\\\\Scripts\\\\python.exe' = str('C:\\\\Users\\\\Admin\\\\.graphiti\\\\.venv\\\\Scripts\\\\python.exe')"}, "traceback": [{"path": "tests\\daemon\\test_venv_integration.py", "lineno": 409, "message": "AssertionError"}], "longrepr": "self = <tests.daemon.test_venv_integration.TestDaemonInstallPackageIntegration object at 0x000001BDD76B08D0>\n\n    def test_installed_package_is_importable_from_venv_python(self):\n        \"\"\"installed package is importable from venv Python interpreter\"\"\"\n        manager = VenvManager()\n    \n        # Mock successful import validation\n        with patch('subprocess.run') as mock_run:\n            mock_run.return_value = Mock(returncode=0, stdout='', stderr='')\n            with patch('platform.system', return_value='Linux'):\n                result = manager.validate_installation('mcp_server')\n    \n                # Verify validation uses venv Python\n                call_args = mock_run.call_args[0][0]\n>               assert str(manager.venv_path / 'bin' / 'python') in str(call_args[0])\nE               AssertionError: assert 'C:\\\\Users\\\\Admin\\\\.graphiti\\\\.venv\\\\bin\\\\python' in 'C:\\\\Users\\\\Admin\\\\.graphiti\\\\.venv\\\\Scripts\\\\python.exe'\nE                +  where 'C:\\\\Users\\\\Admin\\\\.graphiti\\\\.venv\\\\bin\\\\python' = str(((WindowsPath('C:/Users/Admin/.graphiti/.venv') / 'bin') / 'python'))\nE                +    where WindowsPath('C:/Users/Admin/.graphiti/.venv') = <mcp_server.daemon.venv_manager.VenvManager object at 0x000001BDD7A81370>.venv_path\nE                +  and   'C:\\\\Users\\\\Admin\\\\.graphiti\\\\.venv\\\\Scripts\\\\python.exe' = str('C:\\\\Users\\\\Admin\\\\.graphiti\\\\.venv\\\\Scripts\\\\python.exe')\n\ntests\\daemon\\test_venv_integration.py:409: AssertionError"}, "teardown": {"duration": 0.0011547000030986965, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestDaemonInstallPackageIntegration::test_non_editable_install_means_package_changes_dont_affect_venv", "lineno": 413, "outcome": "failed", "keywords": ["test_non_editable_install_means_package_changes_dont_affect_venv", "TestDaemonInstallPackageIntegration", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0007148999720811844, "outcome": "passed"}, "call": {"duration": 0.008992100018076599, "outcome": "failed", "crash": {"path": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\tests\\daemon\\test_venv_integration.py", "lineno": 432, "message": "assert '\\\\home\\\\user\\\\graphiti\\\\mcp_server' in \"['C:\\\\\\\\python313\\\\\\\\Scripts\\\\\\\\uvx.EXE', 'pip', 'install', '-r', 'C:\\\\\\\\Users\\\\\\\\Admin\\\\\\\\.graphiti\\\\\\\\requirements.txt', '--quiet']\"\n +  where '\\\\home\\\\user\\\\graphiti\\\\mcp_server' = str((WindowsPath('/home/user/graphiti') / 'mcp_server'))\n +  and   \"['C:\\\\\\\\python313\\\\\\\\Scripts\\\\\\\\uvx.EXE', 'pip', 'install', '-r', 'C:\\\\\\\\Users\\\\\\\\Admin\\\\\\\\.graphiti\\\\\\\\requirements.txt', '--quiet']\" = str(['C:\\\\python313\\\\Scripts\\\\uvx.EXE', 'pip', 'install', '-r', 'C:\\\\Users\\\\Admin\\\\.graphiti\\\\requirements.txt', '--quiet'])"}, "traceback": [{"path": "tests\\daemon\\test_venv_integration.py", "lineno": 432, "message": "AssertionError"}], "longrepr": "self = <tests.daemon.test_venv_integration.TestDaemonInstallPackageIntegration object at 0x000001BDD76B07C0>\n\n    def test_non_editable_install_means_package_changes_dont_affect_venv(self):\n        \"\"\"non-editable install means package changes in repo don't affect venv\"\"\"\n        manager = VenvManager()\n    \n        mock_repo_root = Path('/home/user/graphiti')\n    \n        with patch.object(manager, 'detect_repo_location', return_value=mock_repo_root):\n            with patch.object(manager, 'get_uv_executable', return_value=None):\n                with patch.object(manager, 'validate_installation', return_value=True):\n                    with patch('subprocess.run') as mock_run:\n                        mock_run.return_value = Mock(returncode=0, stdout='', stderr='')\n    \n                        manager.install_package()\n    \n                        # Verify -e flag is NOT used (non-editable install)\n                        call_args = mock_run.call_args[0][0]\n                        assert '-e' not in call_args\n                        # Package is copied, not linked\n>                       assert str(mock_repo_root / 'mcp_server') in str(call_args)\nE                       assert '\\\\home\\\\user\\\\graphiti\\\\mcp_server' in \"['C:\\\\\\\\python313\\\\\\\\Scripts\\\\\\\\uvx.EXE', 'pip', 'install', '-r', 'C:\\\\\\\\Users\\\\\\\\Admin\\\\\\\\.graphiti\\\\\\\\requirements.txt', '--quiet']\"\nE                        +  where '\\\\home\\\\user\\\\graphiti\\\\mcp_server' = str((WindowsPath('/home/user/graphiti') / 'mcp_server'))\nE                        +  and   \"['C:\\\\\\\\python313\\\\\\\\Scripts\\\\\\\\uvx.EXE', 'pip', 'install', '-r', 'C:\\\\\\\\Users\\\\\\\\Admin\\\\\\\\.graphiti\\\\\\\\requirements.txt', '--quiet']\" = str(['C:\\\\python313\\\\Scripts\\\\uvx.EXE', 'pip', 'install', '-r', 'C:\\\\Users\\\\Admin\\\\.graphiti\\\\requirements.txt', '--quiet'])\n\ntests\\daemon\\test_venv_integration.py:432: AssertionError"}, "teardown": {"duration": 0.0009282000246457756, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestPackageInstallationSecurity::test_repo_path_validated_before_installation", "lineno": 437, "outcome": "failed", "keywords": ["test_repo_path_validated_before_installation", "TestPackageInstallationSecurity", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.001140100008342415, "outcome": "passed"}, "call": {"duration": 821.2221824999433, "outcome": "failed", "crash": {"path": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\tests\\daemon\\test_venv_integration.py", "lineno": 448, "message": "AssertionError: assert ('cannot find' in 'package installation timed out (exceeded 5 minutes)' or 'not found' in 'package installation timed out (exceeded 5 minutes)')\n +  where 'package installation timed out (exceeded 5 minutes)' = <built-in method lower of str object at 0x000001BDD77613B0>()\n +    where <built-in method lower of str object at 0x000001BDD77613B0> = 'Package installation timed out (exceeded 5 minutes)'.lower\n +  and   'package installation timed out (exceeded 5 minutes)' = <built-in method lower of str object at 0x000001BDD77613B0>()\n +    where <built-in method lower of str object at 0x000001BDD77613B0> = 'Package installation timed out (exceeded 5 minutes)'.lower"}, "traceback": [{"path": "tests\\daemon\\test_venv_integration.py", "lineno": 448, "message": "AssertionError"}], "log": [{"name": "mcp_server.daemon.venv_manager", "msg": "Package installation timed out (exceeded 5 minutes)", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\mcp_server\\daemon\\venv_manager.py", "filename": "venv_manager.py", "module": "venv_manager", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 505, "funcName": "install_package", "created": 1766538444.917732, "msecs": 917.0, "relativeCreated": 857706.3054, "thread": 5236, "threadName": "MainThread", "processName": "MainProcess", "process": 17564, "taskName": null}], "longrepr": "self = <tests.daemon.test_venv_integration.TestPackageInstallationSecurity object at 0x000001BDD76BBED0>\n\n    def test_repo_path_validated_before_installation(self):\n        \"\"\"Repo path is validated before installation (prevent path traversal)\"\"\"\n        manager = VenvManager()\n    \n        # Mock repo detection returns None (invalid path)\n        with patch.object(manager, 'detect_repo_location', return_value=None):\n            success, message = manager.install_package()\n    \n            # Installation should fail if repo path cannot be validated\n            assert success is False\n>           assert 'cannot find' in message.lower() or 'not found' in message.lower()\nE           AssertionError: assert ('cannot find' in 'package installation timed out (exceeded 5 minutes)' or 'not found' in 'package installation timed out (exceeded 5 minutes)')\nE            +  where 'package installation timed out (exceeded 5 minutes)' = <built-in method lower of str object at 0x000001BDD77613B0>()\nE            +    where <built-in method lower of str object at 0x000001BDD77613B0> = 'Package installation timed out (exceeded 5 minutes)'.lower\nE            +  and   'package installation timed out (exceeded 5 minutes)' = <built-in method lower of str object at 0x000001BDD77613B0>()\nE            +    where <built-in method lower of str object at 0x000001BDD77613B0> = 'Package installation timed out (exceeded 5 minutes)'.lower\n\ntests\\daemon\\test_venv_integration.py:448: AssertionError"}, "teardown": {"duration": 0.0014747999957762659, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestPackageInstallationSecurity::test_subprocess_commands_properly_escaped_for_install", "lineno": 449, "outcome": "passed", "keywords": ["test_subprocess_commands_properly_escaped_for_install", "TestPackageInstallationSecurity", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006701999809592962, "outcome": "passed"}, "call": {"duration": 0.021232400031294674, "outcome": "passed"}, "teardown": {"duration": 0.0008841999806463718, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_integration.py::TestPackageInstallationSecurity::test_package_installation_does_not_require_elevated_privileges", "lineno": 467, "outcome": "passed", "keywords": ["test_package_installation_does_not_require_elevated_privileges", "TestPackageInstallationSecurity", "test_venv_integration.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006167000392451882, "outcome": "passed"}, "call": {"duration": 0.02108159998897463, "outcome": "passed"}, "teardown": {"duration": 0.001013499975670129, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestCheckUvAvailable::test_check_uv_available_when_uv_in_path", "lineno": 28, "outcome": "passed", "keywords": ["test_check_uv_available_when_uv_in_path", "TestCheckUvAvailable", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.006953299976885319, "outcome": "passed"}, "call": {"duration": 0.0019346000044606626, "outcome": "passed"}, "teardown": {"duration": 0.0008635999984107912, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestCheckUvAvailable::test_check_uv_available_when_uv_not_available", "lineno": 34, "outcome": "passed", "keywords": ["test_check_uv_available_when_uv_not_available", "TestCheckUvAvailable", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.017915799980983138, "outcome": "passed"}, "call": {"duration": 0.01103499997407198, "outcome": "passed"}, "teardown": {"duration": 0.0007252999930642545, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidatePythonVersion::test_validate_python_version_accepts_3_10", "lineno": 44, "outcome": "passed", "keywords": ["test_validate_python_version_accepts_3_10", "TestValidatePythonVersion", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0009401999996043742, "outcome": "passed"}, "call": {"duration": 0.004268900025635958, "outcome": "passed"}, "teardown": {"duration": 0.0007253000512719154, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidatePythonVersion::test_validate_python_version_accepts_3_11", "lineno": 51, "outcome": "passed", "keywords": ["test_validate_python_version_accepts_3_11", "TestValidatePythonVersion", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0007983999676071107, "outcome": "passed"}, "call": {"duration": 0.001431100012268871, "outcome": "passed"}, "teardown": {"duration": 0.0005342999938875437, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidatePythonVersion::test_validate_python_version_accepts_3_12", "lineno": 57, "outcome": "passed", "keywords": ["test_validate_python_version_accepts_3_12", "TestValidatePythonVersion", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005697999731637537, "outcome": "passed"}, "call": {"duration": 0.005493299977388233, "outcome": "passed"}, "teardown": {"duration": 0.012358399981167167, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidatePythonVersion::test_validate_python_version_rejects_3_9", "lineno": 63, "outcome": "passed", "keywords": ["test_validate_python_version_rejects_3_9", "TestValidatePythonVersion", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0007172999903559685, "outcome": "passed"}, "call": {"duration": 0.008611499972175807, "outcome": "passed"}, "teardown": {"duration": 0.0005938999820500612, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidatePythonVersion::test_validate_python_version_rejects_3_8", "lineno": 71, "outcome": "passed", "keywords": ["test_validate_python_version_rejects_3_8", "TestValidatePythonVersion", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0008640000014565885, "outcome": "passed"}, "call": {"duration": 0.0012072999961674213, "outcome": "passed"}, "teardown": {"duration": 0.0006484999903477728, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidatePythonVersion::test_validate_python_version_rejects_2_7", "lineno": 79, "outcome": "passed", "keywords": ["test_validate_python_version_rejects_2_7", "TestValidatePythonVersion", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0029136999510228634, "outcome": "passed"}, "call": {"duration": 0.001831499976105988, "outcome": "passed"}, "teardown": {"duration": 0.0006886000046506524, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestDetectVenv::test_detect_venv_returns_true_for_existing_valid_venv", "lineno": 91, "outcome": "passed", "keywords": ["test_detect_venv_returns_true_for_existing_valid_venv", "TestDetectVenv", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006932999822311103, "outcome": "passed"}, "call": {"duration": 0.038161000004038215, "outcome": "passed"}, "teardown": {"duration": 0.0008084999863058329, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestDetectVenv::test_detect_venv_returns_false_for_nonexistent_venv", "lineno": 108, "outcome": "passed", "keywords": ["test_detect_venv_returns_false_for_nonexistent_venv", "TestDetectVenv", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0010006999946199358, "outcome": "passed"}, "call": {"duration": 0.011152599996421486, "outcome": "passed"}, "teardown": {"duration": 0.0010040000197477639, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestDetectVenv::test_detect_venv_returns_false_for_corrupted_venv", "lineno": 119, "outcome": "passed", "keywords": ["test_detect_venv_returns_false_for_corrupted_venv", "TestDetectVenv", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0009239999926649034, "outcome": "passed"}, "call": {"duration": 0.04658119997475296, "outcome": "passed"}, "teardown": {"duration": 0.0007936999900266528, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestCreateVenv::test_create_venv_uses_uv_when_available", "lineno": 159, "outcome": "passed", "keywords": ["test_create_venv_uses_uv_when_available", "TestCreateVenv", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0022634000051766634, "outcome": "passed"}, "call": {"duration": 0.0031946999952197075, "outcome": "passed"}, "teardown": {"duration": 0.0006622999790124595, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestCreateVenv::test_create_venv_falls_back_to_python_when_uv_unavailable", "lineno": 183, "outcome": "passed", "keywords": ["test_create_venv_falls_back_to_python_when_uv_unavailable", "TestCreateVenv", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006566999945789576, "outcome": "passed"}, "call": {"duration": 0.006454799964558333, "outcome": "passed"}, "teardown": {"duration": 0.00070980004966259, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestCreateVenv::test_create_venv_is_idempotent_skips_if_exists", "lineno": 208, "outcome": "passed", "keywords": ["test_create_venv_is_idempotent_skips_if_exists", "TestCreateVenv", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0015826000017113984, "outcome": "passed"}, "call": {"duration": 0.006401500024367124, "outcome": "passed"}, "teardown": {"duration": 0.0006764000281691551, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestPlatformAgnosticPaths::test_windows_path_handling", "lineno": 227, "outcome": "passed", "keywords": ["test_windows_path_handling", "TestPlatformAgnosticPaths", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0008840000373311341, "outcome": "passed"}, "call": {"duration": 0.001505000051110983, "outcome": "passed"}, "teardown": {"duration": 0.0005710000405088067, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestPlatformAgnosticPaths::test_unix_path_handling", "lineno": 241, "outcome": "passed", "keywords": ["test_unix_path_handling", "TestPlatformAgnosticPaths", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0008650000090710819, "outcome": "passed"}, "call": {"duration": 0.0021163999917916954, "outcome": "passed"}, "teardown": {"duration": 0.0007796999998390675, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestPlatformAgnosticPaths::test_path_operations_work_on_windows", "lineno": 253, "outcome": "passed", "keywords": ["test_path_operations_work_on_windows", "TestPlatformAgnosticPaths", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0012332999613136053, "outcome": "passed"}, "call": {"duration": 0.0026344999787397683, "outcome": "passed"}, "teardown": {"duration": 0.0007613000343553722, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestPlatformAgnosticPaths::test_path_operations_work_on_unix", "lineno": 265, "outcome": "passed", "keywords": ["test_path_operations_work_on_unix", "TestPlatformAgnosticPaths", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006686000269837677, "outcome": "passed"}, "call": {"duration": 0.0023163000005297363, "outcome": "passed"}, "teardown": {"duration": 0.0005235999706201255, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestEdgeCases::test_create_venv_handles_subprocess_failure", "lineno": 281, "outcome": "passed", "keywords": ["test_create_venv_handles_subprocess_failure", "TestEdgeCases", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005143999587744474, "outcome": "passed"}, "call": {"duration": 0.014096999948378652, "outcome": "passed"}, "teardown": {"duration": 0.0007878000033088028, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestEdgeCases::test_create_venv_handles_permission_error", "lineno": 295, "outcome": "passed", "keywords": ["test_create_venv_handles_permission_error", "TestEdgeCases", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006135999574325979, "outcome": "passed"}, "call": {"duration": 0.0022420999594032764, "outcome": "passed"}, "teardown": {"duration": 0.0016841000178828835, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestEdgeCases::test_venv_path_is_always_under_graphiti_home", "lineno": 306, "outcome": "passed", "keywords": ["test_venv_path_is_always_under_graphiti_home", "TestEdgeCases", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006432999507524073, "outcome": "passed"}, "call": {"duration": 0.0013808999792672694, "outcome": "passed"}, "teardown": {"duration": 0.0005896000075154006, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestGetUvExecutable::test_get_uv_executable_finds_uv_in_venv_windows", "lineno": 320, "outcome": "passed", "keywords": ["test_get_uv_executable_finds_uv_in_venv_windows", "TestGetUvExecutable", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0008387999841943383, "outcome": "passed"}, "call": {"duration": 0.002054499986115843, "outcome": "passed"}, "teardown": {"duration": 0.0006662000087089837, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestGetUvExecutable::test_get_uv_executable_finds_uv_in_venv_unix", "lineno": 331, "outcome": "passed", "keywords": ["test_get_uv_executable_finds_uv_in_venv_unix", "TestGetUvExecutable", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005854000337421894, "outcome": "passed"}, "call": {"duration": 0.0035017000045627356, "outcome": "passed"}, "teardown": {"duration": 0.0006995999719947577, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestGetUvExecutable::test_get_uv_executable_returns_none_when_not_found", "lineno": 341, "outcome": "passed", "keywords": ["test_get_uv_executable_returns_none_when_not_found", "TestGetUvExecutable", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0007192999473772943, "outcome": "passed"}, "call": {"duration": 0.0015896999975666404, "outcome": "passed"}, "teardown": {"duration": 0.0006833999650552869, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestDetectRepoLocation::test_detect_repo_location_finds_mcp_server_from_venv_path", "lineno": 353, "outcome": "failed", "keywords": ["test_detect_repo_location_finds_mcp_server_from_venv_path", "TestDetectRepoLocation", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0008351000142283738, "outcome": "passed"}, "call": {"duration": 0.006922400032635778, "outcome": "failed", "crash": {"path": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\tests\\daemon\\test_venv_manager.py", "lineno": 380, "message": "AssertionError: assert WindowsPath('C:/Users/Admin/Documents/GitHub/graphiti') == WindowsPath('C:/home/user/graphiti')"}, "traceback": [{"path": "tests\\daemon\\test_venv_manager.py", "lineno": 380, "message": "AssertionError"}], "longrepr": "self = <tests.daemon.test_venv_manager.TestDetectRepoLocation object at 0x000001BDD7771450>\n\n    def test_detect_repo_location_finds_mcp_server_from_venv_path(self):\n        \"\"\"VenvManager.detect_repo_location() finds mcp_server directory from venv path\"\"\"\n        manager = VenvManager()\n    \n        # Use platform-agnostic path construction\n        if sys.platform == \"win32\":\n            mock_repo_root = Path('C:/home/user/graphiti')\n        else:\n            mock_repo_root = Path('/home/user/graphiti')\n    \n        mock_venv_path = mock_repo_root / '.graphiti' / '.venv'\n    \n        with patch.object(manager, 'venv_path', mock_venv_path):\n            # Mock pyproject.toml exists check\n            expected_pyproject = mock_repo_root / \"mcp_server\" / \"pyproject.toml\"\n    \n            original_exists = Path.exists\n            def exists_side_effect(self):\n                # Return True only for the target pyproject.toml\n                if self == expected_pyproject:\n                    return True\n                # Use original exists for other paths\n                return original_exists(self)\n    \n            with patch.object(Path, 'exists', exists_side_effect):\n                result = manager.detect_repo_location()\n>               assert result == mock_repo_root\nE               AssertionError: assert WindowsPath('C:/Users/Admin/Documents/GitHub/graphiti') == WindowsPath('C:/home/user/graphiti')\n\ntests\\daemon\\test_venv_manager.py:380: AssertionError"}, "teardown": {"duration": 0.0015699000214226544, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestDetectRepoLocation::test_detect_repo_location_handles_repo_moved", "lineno": 381, "outcome": "passed", "keywords": ["test_detect_repo_location_handles_repo_moved", "TestDetectRepoLocation", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006833000225014985, "outcome": "passed"}, "call": {"duration": 0.007797199999913573, "outcome": "passed", "log": [{"name": "mcp_server.daemon.venv_manager", "msg": "Repository not found. Checked: CWD (C:\\Users\\Admin\\Documents\\GitHub\\graphiti), venv upward (C:\\Users\\Admin\\.graphiti\\.venv)", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\mcp_server\\daemon\\venv_manager.py", "filename": "venv_manager.py", "module": "venv_manager", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 368, "funcName": "detect_repo_location", "created": 1766538445.5133042, "msecs": 513.0, "relativeCreated": 858301.8777, "thread": 5236, "threadName": "MainThread", "processName": "MainProcess", "process": 17564, "taskName": null}]}, "teardown": {"duration": 0.001049000013154, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestDetectRepoLocation::test_detect_repo_location_searches_upward_from_venv", "lineno": 390, "outcome": "failed", "keywords": ["test_detect_repo_location_searches_upward_from_venv", "TestDetectRepoLocation", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0014109999756328762, "outcome": "passed"}, "call": {"duration": 0.0023397000040858984, "outcome": "failed", "crash": {"path": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\tests\\daemon\\test_venv_manager.py", "lineno": 416, "message": "AssertionError: assert WindowsPath('C:/Users/Admin/Documents/GitHub/graphiti') == WindowsPath('C:/opt/projects/graphiti')"}, "traceback": [{"path": "tests\\daemon\\test_venv_manager.py", "lineno": 416, "message": "AssertionError"}], "longrepr": "self = <tests.daemon.test_venv_manager.TestDetectRepoLocation object at 0x000001BDD77B1A70>\n\n    def test_detect_repo_location_searches_upward_from_venv(self):\n        \"\"\"VenvManager.detect_repo_location() searches upward from venv location\"\"\"\n        manager = VenvManager()\n    \n        # Use platform-agnostic path construction\n        if sys.platform == \"win32\":\n            mock_venv_path = Path('C:/opt/projects/graphiti/.graphiti/.venv')\n            mock_repo_root = Path('C:/opt/projects/graphiti')\n        else:\n            mock_venv_path = Path('/opt/projects/graphiti/.graphiti/.venv')\n            mock_repo_root = Path('/opt/projects/graphiti')\n    \n        with patch.object(manager, 'venv_path', mock_venv_path):\n            expected_pyproject = mock_repo_root / \"mcp_server\" / \"pyproject.toml\"\n    \n            original_exists = Path.exists\n            def exists_side_effect(self):\n                # Return True only for the target pyproject.toml\n                if self == expected_pyproject:\n                    return True\n                # Use original exists for other paths\n                return original_exists(self)\n    \n            with patch.object(Path, 'exists', exists_side_effect):\n                result = manager.detect_repo_location()\n>               assert result == mock_repo_root\nE               AssertionError: assert WindowsPath('C:/Users/Admin/Documents/GitHub/graphiti') == WindowsPath('C:/opt/projects/graphiti')\n\ntests\\daemon\\test_venv_manager.py:416: AssertionError"}, "teardown": {"duration": 0.0011073999921791255, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidateInstallation::test_validate_installation_returns_true_when_package_importable", "lineno": 421, "outcome": "passed", "keywords": ["test_validate_installation_returns_true_when_package_importable", "TestValidateInstallation", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0008799000061117113, "outcome": "passed"}, "call": {"duration": 0.0032085999846458435, "outcome": "passed"}, "teardown": {"duration": 0.0008465999853797257, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidateInstallation::test_validate_installation_returns_false_when_package_not_installed", "lineno": 434, "outcome": "passed", "keywords": ["test_validate_installation_returns_false_when_package_not_installed", "TestValidateInstallation", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0007624999852851033, "outcome": "passed"}, "call": {"duration": 0.0063862999668344855, "outcome": "passed", "log": [{"name": "mcp_server.daemon.venv_manager", "msg": "Package 'mcp_server' not importable: ModuleNotFoundError", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\mcp_server\\daemon\\venv_manager.py", "filename": "venv_manager.py", "module": "venv_manager", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 404, "funcName": "validate_installation", "created": 1766538445.6254895, "msecs": 625.0, "relativeCreated": 858414.0629, "thread": 5236, "threadName": "MainThread", "processName": "MainProcess", "process": 17564, "taskName": null}]}, "teardown": {"duration": 0.0011891999747604132, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestValidateInstallation::test_validate_installation_uses_venv_python", "lineno": 447, "outcome": "passed", "keywords": ["test_validate_installation_uses_venv_python", "TestValidateInstallation", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0010748999775387347, "outcome": "passed"}, "call": {"duration": 0.007675200002267957, "outcome": "passed"}, "teardown": {"duration": 0.0007598999654874206, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestInstallPackage::test_install_package_uses_uv_pip_when_available", "lineno": 468, "outcome": "passed", "keywords": ["test_install_package_uses_uv_pip_when_available", "TestInstallPackage", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.001024700002744794, "outcome": "passed"}, "call": {"duration": 0.00978879997273907, "outcome": "passed"}, "teardown": {"duration": 0.0006856999825686216, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestInstallPackage::test_install_package_falls_back_to_pip_when_uv_not_available", "lineno": 491, "outcome": "failed", "keywords": ["test_install_package_falls_back_to_pip_when_uv_not_available", "TestInstallPackage", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006381000275723636, "outcome": "passed"}, "call": {"duration": 0.03258150001056492, "outcome": "failed", "crash": {"path": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\tests\\daemon\\test_venv_manager.py", "lineno": 511, "message": "AssertionError: assert 'pip' in 'C:\\\\python313\\\\Scripts\\\\uvx.EXE'\n +  where 'C:\\\\python313\\\\Scripts\\\\uvx.EXE' = str('C:\\\\python313\\\\Scripts\\\\uvx.EXE')"}, "traceback": [{"path": "tests\\daemon\\test_venv_manager.py", "lineno": 511, "message": "AssertionError"}], "longrepr": "self = <tests.daemon.test_venv_manager.TestInstallPackage object at 0x000001BDD7771A90>\n\n    def test_install_package_falls_back_to_pip_when_uv_not_available(self):\n        \"\"\"VenvManager.install_package() falls back to pip when uv not available\"\"\"\n        manager = VenvManager()\n    \n        mock_repo_root = Path('/home/user/graphiti')\n    \n        with patch.object(manager, 'detect_venv', return_value=True):\n            with patch.object(manager, 'detect_repo_location', return_value=mock_repo_root):\n                with patch.object(Path, 'exists', return_value=True):\n                    with patch.object(manager, 'get_uv_executable', return_value=None):\n                        with patch.object(manager, 'get_pip_executable', return_value=Path('/venv/bin/pip')):\n                            with patch.object(manager, 'validate_installation', return_value=True):\n                                with patch('subprocess.run') as mock_run:\n                                    mock_run.return_value = Mock(returncode=0, stdout='', stderr='')\n                                    with patch('platform.system', return_value='Linux'):\n                                        success, message = manager.install_package()\n    \n                                        # Verify standard pip was used\n                                        call_args = mock_run.call_args[0][0]\n>                                       assert 'pip' in str(call_args[0])\nE                                       AssertionError: assert 'pip' in 'C:\\\\python313\\\\Scripts\\\\uvx.EXE'\nE                                        +  where 'C:\\\\python313\\\\Scripts\\\\uvx.EXE' = str('C:\\\\python313\\\\Scripts\\\\uvx.EXE')\n\ntests\\daemon\\test_venv_manager.py:511: AssertionError"}, "teardown": {"duration": 0.0009287999710068107, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestInstallPackage::test_install_package_uses_non_editable_install", "lineno": 514, "outcome": "passed", "keywords": ["test_install_package_uses_non_editable_install", "TestInstallPackage", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0007381999748758972, "outcome": "passed"}, "call": {"duration": 0.010896100022364408, "outcome": "passed"}, "teardown": {"duration": 0.0049177000182680786, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestInstallPackage::test_install_package_constructs_correct_path", "lineno": 535, "outcome": "failed", "keywords": ["test_install_package_constructs_correct_path", "TestInstallPackage", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0007867999956943095, "outcome": "passed"}, "call": {"duration": 0.007947699981741607, "outcome": "failed", "crash": {"path": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\tests\\daemon\\test_venv_manager.py", "lineno": 562, "message": "AssertionError: Expected package 'mcp_server' not found in ['C:\\\\python313\\\\Scripts\\\\uvx.EXE', 'pip', 'install', '-r', 'C:\\\\Users\\\\Admin\\\\.graphiti\\\\requirements.txt', '--quiet']\nassert 'mcp_server' in ['C:\\\\python313\\\\Scripts\\\\uvx.EXE', 'pip', 'install', '-r', 'C:\\\\Users\\\\Admin\\\\.graphiti\\\\requirements.txt', '--quiet']"}, "traceback": [{"path": "tests\\daemon\\test_venv_manager.py", "lineno": 562, "message": "AssertionError"}], "longrepr": "self = <tests.daemon.test_venv_manager.TestInstallPackage object at 0x000001BDD77B1E00>\n\n    def test_install_package_constructs_correct_path(self):\n        \"\"\"VenvManager.install_package() constructs correct install command with dynamic path\"\"\"\n        manager = VenvManager()\n    \n        # Use platform-agnostic path construction\n        if sys.platform == \"win32\":\n            mock_repo_root = Path('C:/opt/graphiti')\n            mock_pip = Path('C:/venv/bin/pip')\n        else:\n            mock_repo_root = Path('/opt/graphiti')\n            mock_pip = Path('/venv/bin/pip')\n    \n        with patch.object(manager, 'detect_venv', return_value=True):\n            with patch.object(manager, 'detect_repo_location', return_value=mock_repo_root):\n                with patch.object(Path, 'exists', return_value=True):\n                    with patch.object(manager, 'get_uv_executable', return_value=None):\n                        with patch.object(manager, 'get_pip_executable', return_value=mock_pip):\n                            with patch.object(manager, 'validate_installation', return_value=True):\n                                with patch('subprocess.run') as mock_run:\n                                    mock_run.return_value = Mock(returncode=0, stdout='', stderr='')\n    \n                                    manager.install_package()\n    \n                                    # Verify package path is included (relative path \"mcp_server\")\n                                    call_args = mock_run.call_args[0][0]\n                                    # Implementation uses relative path from repo root\n>                                   assert 'mcp_server' in call_args, \\\n                                        f\"Expected package 'mcp_server' not found in {call_args}\"\nE                                   AssertionError: Expected package 'mcp_server' not found in ['C:\\\\python313\\\\Scripts\\\\uvx.EXE', 'pip', 'install', '-r', 'C:\\\\Users\\\\Admin\\\\.graphiti\\\\requirements.txt', '--quiet']\nE                                   assert 'mcp_server' in ['C:\\\\python313\\\\Scripts\\\\uvx.EXE', 'pip', 'install', '-r', 'C:\\\\Users\\\\Admin\\\\.graphiti\\\\requirements.txt', '--quiet']\n\ntests\\daemon\\test_venv_manager.py:562: AssertionError"}, "teardown": {"duration": 0.0012576999724842608, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestInstallPackage::test_install_package_raises_error_on_failure", "lineno": 564, "outcome": "passed", "keywords": ["test_install_package_raises_error_on_failure", "TestInstallPackage", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0046925999922677875, "outcome": "passed"}, "call": {"duration": 0.009222700027748942, "outcome": "passed", "log": [{"name": "mcp_server.daemon.venv_manager", "msg": "Package installation failed with exit code 1\nError: Installation failed", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\mcp_server\\daemon\\venv_manager.py", "filename": "venv_manager.py", "module": "venv_manager", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 487, "funcName": "install_package", "created": 1766538445.8827567, "msecs": 882.0, "relativeCreated": 858671.33, "thread": 5236, "threadName": "MainThread", "processName": "MainProcess", "process": 17564, "taskName": null}]}, "teardown": {"duration": 0.0009403000003658235, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestInstallPackage::test_install_package_validates_installation_after_install", "lineno": 582, "outcome": "passed", "keywords": ["test_install_package_validates_installation_after_install", "TestInstallPackage", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.001153399993199855, "outcome": "passed"}, "call": {"duration": 0.01246459997491911, "outcome": "passed"}, "teardown": {"duration": 0.0011826999834738672, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_venv_manager.py::TestInstallPackage::test_install_package_handles_repo_not_found", "lineno": 602, "outcome": "failed", "keywords": ["test_install_package_handles_repo_not_found", "TestInstallPackage", "test_venv_manager.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0011869000154547393, "outcome": "passed"}, "call": {"duration": 16.70241129997885, "outcome": "failed", "crash": {"path": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\tests\\daemon\\test_venv_manager.py", "lineno": 610, "message": "assert True is False"}, "traceback": [{"path": "tests\\daemon\\test_venv_manager.py", "lineno": 610, "message": "AssertionError"}], "longrepr": "self = <tests.daemon.test_venv_manager.TestInstallPackage object at 0x000001BDD76B0F30>\n\n    def test_install_package_handles_repo_not_found(self):\n        \"\"\"VenvManager.install_package() handles case when repo location cannot be detected\"\"\"\n        manager = VenvManager()\n    \n        with patch.object(manager, 'detect_venv', return_value=True):\n            with patch.object(manager, 'detect_repo_location', return_value=None):\n                success, message = manager.install_package()\n>               assert success is False\nE               assert True is False\n\ntests\\daemon\\test_venv_manager.py:610: AssertionError"}, "teardown": {"duration": 0.0008848000434227288, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGeneratorBasics::test_init_with_default_paths", "lineno": 57, "outcome": "passed", "keywords": ["test_init_with_default_paths", "TestWrapperGeneratorBasics", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0006684999680146575, "outcome": "passed"}, "call": {"duration": 0.0014477000222541392, "outcome": "passed"}, "teardown": {"duration": 0.002881899999920279, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGeneratorBasics::test_init_with_custom_paths", "lineno": 65, "outcome": "passed", "keywords": ["test_init_with_custom_paths", "TestWrapperGeneratorBasics", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.010623900045175105, "outcome": "passed"}, "call": {"duration": 0.001138899999205023, "outcome": "passed"}, "teardown": {"duration": 0.0010442999773658812, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGeneratorBasics::test_get_python_path_returns_correct_path_for_platform", "lineno": 72, "outcome": "passed", "keywords": ["test_get_python_path_returns_correct_path_for_platform", "TestWrapperGeneratorBasics", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.015037999954074621, "outcome": "passed"}, "call": {"duration": 0.0015017000259831548, "outcome": "passed"}, "teardown": {"duration": 0.0008029000018723309, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGeneratorBasics::test_get_python_path_raises_error_when_venv_missing", "lineno": 85, "outcome": "passed", "keywords": ["test_get_python_path_raises_error_when_venv_missing", "TestWrapperGeneratorBasics", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.00620950001757592, "outcome": "passed"}, "call": {"duration": 0.0015440999995917082, "outcome": "passed"}, "teardown": {"duration": 0.0006838999688625336, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGeneratorBasics::test_create_bin_directory_creates_directory", "lineno": 95, "outcome": "passed", "keywords": ["test_create_bin_directory_creates_directory", "TestWrapperGeneratorBasics", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.008543600037228316, "outcome": "passed"}, "call": {"duration": 0.002059200021903962, "outcome": "passed"}, "teardown": {"duration": 0.001082699978724122, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGeneratorBasics::test_create_bin_directory_is_idempotent", "lineno": 104, "outcome": "passed", "keywords": ["test_create_bin_directory_is_idempotent", "TestWrapperGeneratorBasics", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.017246300005353987, "outcome": "passed"}, "call": {"duration": 0.0037483000196516514, "outcome": "passed"}, "teardown": {"duration": 0.0008008999866433442, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWindowsWrapperGeneration::test_generate_windows_wrapper_creates_cmd_file", "lineno": 117, "outcome": "passed", "keywords": ["test_generate_windows_wrapper_creates_cmd_file", "skipif", "pytestmark", "TestWindowsWrapperGeneration", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.015618399949744344, "outcome": "passed"}, "call": {"duration": 0.006479299976490438, "outcome": "passed"}, "teardown": {"duration": 0.0008536000386811793, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWindowsWrapperGeneration::test_windows_wrapper_contains_correct_content", "lineno": 132, "outcome": "passed", "keywords": ["test_windows_wrapper_contains_correct_content", "skipif", "pytestmark", "TestWindowsWrapperGeneration", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.009118299989495426, "outcome": "passed"}, "call": {"duration": 0.04606159997638315, "outcome": "passed"}, "teardown": {"duration": 0.0008844999829307199, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestUnixWrapperGeneration::test_generate_unix_wrapper_creates_shell_script", "lineno": 161, "outcome": "skipped", "keywords": ["test_generate_unix_wrapper_creates_shell_script", "skipif", "pytestmark", "TestUnixWrapperGeneration", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0005271999980323017, "outcome": "skipped", "longrepr": "('C:\\\\Users\\\\Admin\\\\Documents\\\\GitHub\\\\graphiti\\\\tests\\\\daemon\\\\test_wrapper_generator.py', 162, 'Skipped: Unix-only test')"}, "teardown": {"duration": 0.0007289000204764307, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestUnixWrapperGeneration::test_unix_wrapper_has_executable_permissions", "lineno": 176, "outcome": "skipped", "keywords": ["test_unix_wrapper_has_executable_permissions", "skipif", "pytestmark", "TestUnixWrapperGeneration", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.000533199985511601, "outcome": "skipped", "longrepr": "('C:\\\\Users\\\\Admin\\\\Documents\\\\GitHub\\\\graphiti\\\\tests\\\\daemon\\\\test_wrapper_generator.py', 177, 'Skipped: Unix-only test')"}, "teardown": {"duration": 0.0005329999839887023, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestUnixWrapperGeneration::test_unix_wrapper_contains_correct_content", "lineno": 193, "outcome": "skipped", "keywords": ["test_unix_wrapper_contains_correct_content", "skipif", "pytestmark", "TestUnixWrapperGeneration", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.0003353999927639961, "outcome": "skipped", "longrepr": "('C:\\\\Users\\\\Admin\\\\Documents\\\\GitHub\\\\graphiti\\\\tests\\\\daemon\\\\test_wrapper_generator.py', 194, 'Skipped: Unix-only test')"}, "teardown": {"duration": 0.000527299998793751, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGenerationOrchestration::test_generate_wrappers_creates_all_three_commands", "lineno": 222, "outcome": "passed", "keywords": ["test_generate_wrappers_creates_all_three_commands", "TestWrapperGenerationOrchestration", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.017685500031802803, "outcome": "passed"}, "call": {"duration": 0.0053456000168807805, "outcome": "passed"}, "teardown": {"duration": 0.0009268999565392733, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGenerationOrchestration::test_generate_wrappers_creates_bin_directory", "lineno": 241, "outcome": "passed", "keywords": ["test_generate_wrappers_creates_bin_directory", "TestWrapperGenerationOrchestration", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.012344100046902895, "outcome": "passed"}, "call": {"duration": 0.010096599988173693, "outcome": "passed"}, "teardown": {"duration": 0.0008304000366479158, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperGenerationOrchestration::test_generate_wrappers_fails_when_venv_missing", "lineno": 250, "outcome": "passed", "keywords": ["test_generate_wrappers_fails_when_venv_missing", "TestWrapperGenerationOrchestration", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.005058999988250434, "outcome": "passed"}, "call": {"duration": 0.005388299992773682, "outcome": "passed", "log": [{"name": "mcp_server.daemon.wrapper_generator", "msg": "Wrapper generation failed: Venv does not exist at C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_generate_wrappers_fails_w0\\nonexistent. Create venv before generating wrappers.", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\mcp_server\\daemon\\wrapper_generator.py", "filename": "wrapper_generator.py", "module": "wrapper_generator", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 242, "funcName": "generate_wrappers", "created": 1766538462.9252107, "msecs": 925.0, "relativeCreated": 875713.7839, "thread": 5236, "threadName": "MainThread", "processName": "MainProcess", "process": 17564, "taskName": null}]}, "teardown": {"duration": 0.000887800008058548, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperValidation::test_validate_wrappers_returns_true_when_all_exist", "lineno": 264, "outcome": "passed", "keywords": ["test_validate_wrappers_returns_true_when_all_exist", "TestWrapperValidation", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.015237500017974526, "outcome": "passed"}, "call": {"duration": 0.006989999965298921, "outcome": "passed"}, "teardown": {"duration": 0.0008601000299677253, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperValidation::test_validate_wrappers_returns_false_when_bin_missing", "lineno": 274, "outcome": "passed", "keywords": ["test_validate_wrappers_returns_false_when_bin_missing", "TestWrapperValidation", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.00926439999602735, "outcome": "passed"}, "call": {"duration": 0.0012933000107295811, "outcome": "passed", "log": [{"name": "mcp_server.daemon.wrapper_generator", "msg": "Bin directory does not exist: C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_validate_wrappers_returns1\\bin", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\mcp_server\\daemon\\wrapper_generator.py", "filename": "wrapper_generator.py", "module": "wrapper_generator", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 258, "funcName": "validate_wrappers", "created": 1766538462.9653814, "msecs": 965.0, "relativeCreated": 875753.9548, "thread": 5236, "threadName": "MainThread", "processName": "MainProcess", "process": 17564, "taskName": null}]}, "teardown": {"duration": 0.0009821000276133418, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperValidation::test_validate_wrappers_returns_false_when_wrapper_missing", "lineno": 283, "outcome": "passed", "keywords": ["test_validate_wrappers_returns_false_when_wrapper_missing", "TestWrapperValidation", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.01237000001128763, "outcome": "passed"}, "call": {"duration": 0.007179300009738654, "outcome": "passed", "log": [{"name": "mcp_server.daemon.wrapper_generator", "msg": "Missing wrapper scripts: C:\\Users\\Admin\\AppData\\Local\\Temp\\pytest-of-Admin\\pytest-372\\test_validate_wrappers_returns2\\bin\\graphiti-mcp.cmd", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\mcp_server\\daemon\\wrapper_generator.py", "filename": "wrapper_generator.py", "module": "wrapper_generator", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 273, "funcName": "validate_wrappers", "created": 1766538462.9898293, "msecs": 989.0, "relativeCreated": 875778.4028, "thread": 5236, "threadName": "MainThread", "processName": "MainProcess", "process": 17564, "taskName": null}]}, "teardown": {"duration": 0.0010474000009708107, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperCleanup::test_cleanup_wrappers_removes_all_wrappers", "lineno": 303, "outcome": "passed", "keywords": ["test_cleanup_wrappers_removes_all_wrappers", "TestWrapperCleanup", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.010782600031234324, "outcome": "passed"}, "call": {"duration": 0.0061935000121593475, "outcome": "passed"}, "teardown": {"duration": 0.0009037999552674592, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestWrapperCleanup::test_cleanup_wrappers_handles_missing_bin_gracefully", "lineno": 331, "outcome": "passed", "keywords": ["test_cleanup_wrappers_handles_missing_bin_gracefully", "TestWrapperCleanup", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.007123099989257753, "outcome": "passed"}, "call": {"duration": 0.0010680000414140522, "outcome": "passed"}, "teardown": {"duration": 0.0007507999544031918, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestPlatformAgnosticPaths::test_windows_wrapper_uses_scripts_directory", "lineno": 344, "outcome": "passed", "keywords": ["test_windows_wrapper_uses_scripts_directory", "TestPlatformAgnosticPaths", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.010007400007452816, "outcome": "passed"}, "call": {"duration": 0.002593900018837303, "outcome": "passed"}, "teardown": {"duration": 0.0007814000127837062, "outcome": "passed"}}, {"nodeid": "tests/daemon/test_wrapper_generator.py::TestPlatformAgnosticPaths::test_unix_wrapper_uses_bin_directory", "lineno": 359, "outcome": "passed", "keywords": ["test_unix_wrapper_uses_bin_directory", "TestPlatformAgnosticPaths", "test_wrapper_generator.py", "daemon", "tests", "graphiti", ""], "setup": {"duration": 0.008547100005671382, "outcome": "passed"}, "call": {"duration": 0.003228599962312728, "outcome": "passed"}, "teardown": {"duration": 0.003632000007200986, "outcome": "passed"}}], "warnings": [{"message": "Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/", "category": "PydanticDeprecatedSince20", "when": "config", "filename": "C:\\Users\\Admin\\Documents\\GitHub\\graphiti\\graphiti_core\\driver\\search_interface\\search_interface.py", "lineno": 22}, {"message": "Unknown config option: asyncio_default_fixture_loop_scope\n", "category": "PytestConfigWarning", "when": "config", "filename": "C:\\Users\\Admin\\AppData\\Roaming\\Python\\Python313\\site-packages\\_pytest\\config\\__init__.py", "lineno": 1428}]}