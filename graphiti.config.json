{
  "$schema": "./graphiti.config.schema.json",
  "description": "Unified Graphiti Configuration - All project settings in one place",
  "version": "1.0.0",
  "database": {
    "backend": "neo4j",
    "neo4j": {
      "uri": "bolt://localhost:7687",
      "user": "neo4j",
      "password_env": "NEO4J_PASSWORD",
      "database": "neo4j",
      "pool_size": 50,
      "connection_timeout": 30,
      "max_connection_lifetime": 3600
    },
    "falkordb": {
      "uri": "redis://localhost:6379",
      "user": "default",
      "password_env": "FALKORDB_PASSWORD",
      "database": "graphiti",
      "pool_size": 50
    }
  },
  "llm": {
    "provider": "openai",
    "default_model": "gpt-4.1-mini",
    "small_model": "gpt-4.1-nano",
    "temperature": 0.0,
    "semaphore_limit": 10,
    "max_retries": 3,
    "timeout": 60,
    "openai": {
      "api_key_env": "OPENAI_API_KEY",
      "base_url": null,
      "organization": null
    },
    "azure_openai": {
      "endpoint_env": "AZURE_OPENAI_ENDPOINT",
      "api_key_env": "AZURE_OPENAI_API_KEY",
      "api_version": "2025-01-01-preview",
      "deployment_name": null,
      "use_managed_identity": false
    },
    "anthropic": {
      "api_key_env": "ANTHROPIC_API_KEY",
      "base_url": null
    }
  },
  "llm_resilience": {
    "health_check": {
      "enabled": true,
      "interval_seconds": 60,
      "on_startup": true,
      "timeout_seconds": 10
    },
    "retry": {
      "max_attempts": 4,
      "initial_delay_seconds": 5,
      "max_delay_seconds": 120,
      "exponential_base": 2,
      "retry_on_rate_limit": true,
      "retry_on_timeout": true
    },
    "circuit_breaker": {
      "enabled": true,
      "failure_threshold": 5,
      "recovery_timeout_seconds": 300,
      "half_open_max_calls": 3
    }
  },
  "mcp_tools": {
    "on_llm_unavailable": "FAIL",
    "wait_for_completion_default": true,
    "timeout_seconds": 60
  },
  "embedder": {
    "provider": "openai",
    "model": "text-embedding-3-small",
    "dimensions": 1536,
    "batch_size": 100,
    "openai": {
      "api_key_env": "OPENAI_API_KEY"
    },
    "azure_openai": {
      "endpoint_env": "AZURE_OPENAI_EMBEDDING_ENDPOINT",
      "api_key_env": "AZURE_OPENAI_EMBEDDING_API_KEY",
      "api_version": "2023-05-15",
      "deployment_name": null,
      "use_managed_identity": false
    }
  },
  "project": {
    "default_group_id": null,
    "namespace": null,
    "enable_entity_types": true,
    "custom_entity_types": [
      "Requirement",
      "Preference",
      "Procedure"
    ],
    "max_reflexion_iterations": 3
  },
  "search": {
    "default_max_nodes": 10,
    "default_max_facts": 10,
    "default_method": "hybrid_rrf",
    "vector_weight": 0.7,
    "text_weight": 0.3
  },
  "logging": {
    "level": "INFO",
    "log_filter_decisions": true,
    "log_llm_calls": false,
    "log_database_queries": false,
    "log_file": null,
    "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  },
  "performance": {
    "use_parallel_runtime": true,
    "enable_caching": true,
    "cache_ttl_seconds": 3600
  },
  "mcp_server": {
    "host": null,
    "port": null,
    "enable_cors": false,
    "allowed_origins": []
  },
  "resilience": {
    "max_retries": 3,
    "retry_backoff_base": 2,
    "episode_timeout": 60,
    "health_check_interval": 300
  },
  "session_tracking": {
    "enabled": false,
    "watch_path": null,
    "inactivity_timeout": 900,
    "check_interval": 60,
    "auto_summarize": false,
    "store_in_graph": true,
    "keep_length_days": 7,
    "filter": {
      "tool_calls": true,
      "tool_content": "default-tool-content.md",
      "user_messages": true,
      "agent_messages": true
    },
    "resilience": {
      "on_llm_unavailable": "STORE_RAW_AND_RETRY",
      "retry_queue": {
        "max_retries": 5,
        "retry_delays_seconds": [300, 900, 2700, 7200, 21600],
        "max_queue_size": 1000,
        "persist_to_disk": true
      },
      "notifications": {
        "on_permanent_failure": true,
        "notification_method": "log",
        "webhook_url": null
      }
    }
  }
}